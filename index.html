<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Face to Body Matching Challenge</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@700;900&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            overflow: hidden;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .container {
            width: 375px;
            height: 667px;
            background: linear-gradient(180deg, #87CEEB 0%, #32CD32 40%, #228B22 100%);
            position: relative;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }

        /* Cartoon ground elements */
        .container::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 200px;
            background: linear-gradient(180deg, rgba(34, 139, 34, 0.3) 0%, rgba(34, 139, 34, 0.8) 100%);
            border-radius: 0 0 20px 20px;
        }

        .container::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 100px;
            background: radial-gradient(circle at 20% 80%, rgba(255, 255, 255, 0.3) 0%, transparent 50%),
                        radial-gradient(circle at 80% 20%, rgba(255, 255, 255, 0.4) 0%, transparent 50%),
                        radial-gradient(circle at 40% 40%, rgba(255, 255, 255, 0.2) 0%, transparent 50%);
        }

        .faces-container {
            position: absolute;
            top: 80px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: space-around;
            align-items: center;
            padding: 0 20px;
            z-index: 5;
        }

        .face-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
        }

        .face-img {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            border: 4px solid #fff;
            box-shadow: 0 8px 20px rgba(0,0,0,0.25);
            object-fit: cover;
            background: #f0f0f0;
            transition: transform 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            z-index: 10;
        }

        .face-img.drop-animation {
            transform: translateY(120px) scale(0.8);
            opacity: 0.7;
        }

        .face-name {
            font-size: 16px;
            font-weight: 900;
            color: #fff;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.6);
            margin-top: 8px;
            text-transform: uppercase;
            letter-spacing: 1px;
            background: rgba(0,0,0,0.2);
            padding: 4px 12px;
            border-radius: 15px;
            backdrop-filter: blur(5px);
        }

        .bodies-container {
            position: absolute;
            top: 200px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: space-around;
            align-items: flex-start;
            padding: 0 20px;
            z-index: 1;
        }

        .body-slot {
            width: 80px;
            height: 120px;
            position: relative;
            border: 3px dashed rgba(255,255,255,0.6);
            border-radius: 15px;
            overflow: hidden;
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
        }

        .body-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            position: absolute;
            top: 0;
            left: 0;
            transform: translateY(100%);
            transition: transform 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            background: #e0e0e0;
            border-radius: 12px;
        }

        .body-img.slide-in {
            transform: translateY(0);
        }

        .body-img.slide-out {
            transform: translateY(-100%);
        }

        .overlay {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 120px;
            height: 120px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 60px;
            opacity: 0;
            z-index: 20;
            pointer-events: none;
            border-radius: 50%;
        }

        .overlay.show {
            opacity: 1;
            animation: overlayPulse 0.8s ease-in-out;
        }

        .x-overlay {
            background: linear-gradient(135deg, #ff4757 0%, #ff3838 100%);
            color: white;
            box-shadow: 0 10px 30px rgba(255, 71, 87, 0.4);
        }

        .check-overlay {
            background: linear-gradient(135deg, #2ed573 0%, #1dd1a1 100%);
            color: white;
            box-shadow: 0 10px 30px rgba(46, 213, 115, 0.4);
        }

        .confetti {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
            z-index: 15;
        }

        .confetti-piece {
            position: absolute;
            width: 8px;
            height: 8px;
            background: #FFD700;
            opacity: 0;
            border-radius: 50%;
        }

        .confetti-piece:nth-child(2n) { background: #FF6B6B; }
        .confetti-piece:nth-child(3n) { background: #4ECDC4; }
        .confetti-piece:nth-child(4n) { background: #45B7D1; }
        .confetti-piece:nth-child(5n) { background: #96CEB4; }

        @keyframes overlayPulse {
            0% { 
                transform: translate(-50%, -50%) scale(0.5); 
                opacity: 0; 
            }
            50% { 
                transform: translate(-50%, -50%) scale(1.3); 
                opacity: 1; 
            }
            100% { 
                transform: translate(-50%, -50%) scale(1); 
                opacity: 1; 
            }
        }

        @keyframes confettiFall {
            0% {
                transform: translateY(-100px) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(200px) rotate(360deg);
                opacity: 0;
            }
        }

        /* Ground decoration elements */
        .ground-decoration {
            position: absolute;
            bottom: 20px;
            left: 20px;
            right: 20px;
            height: 30px;
            background: linear-gradient(90deg, #2ECC71 0%, #27AE60 50%, #2ECC71 100%);
            border-radius: 15px;
            opacity: 0.6;
        }

        .grass-pattern {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 80px;
            background: repeating-linear-gradient(
                90deg,
                rgba(46, 204, 113, 0.3) 0px,
                rgba(46, 204, 113, 0.3) 2px,
                transparent 2px,
                transparent 8px
            );
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="ground-decoration"></div>
        <div class="grass-pattern"></div>
        
        <div class="faces-container">
            <div class="face-section">
                <img src="Gemini_Generated_Image_rtgbfurtgbfurtgb.png" alt="Messi" class="face-img" id="face1">
                <div class="face-name">Messi</div>
            </div>
            <div class="face-section">
                <img src="Gemini_Generated_Image_7yg3s37yg3s37yg3.png" alt="Ronaldo" class="face-img" id="face2">
                <div class="face-name">Ronaldo</div>
            </div>
            <div class="face-section">
                <img src="Gemini_Generated_Image_jj12lzjj12lzjj12.png" alt="Neymar" class="face-img" id="face3">
                <div class="face-name">Neymar</div>
            </div>
        </div>

        <div class="bodies-container">
            <div class="body-slot" id="slot1">
                <div class="overlay x-overlay" id="overlay1">‚ùå</div>
                <div class="overlay check-overlay" id="checkOverlay1">‚úÖ</div>
                <div class="confetti" id="confetti1"></div>
            </div>
            <div class="body-slot" id="slot2">
                <div class="overlay x-overlay" id="overlay2">‚ùå</div>
                <div class="overlay check-overlay" id="checkOverlay2">‚úÖ</div>
                <div class="confetti" id="confetti2"></div>
            </div>
            <div class="body-slot" id="slot3">
                <div class="overlay x-overlay" id="overlay3">‚ùå</div>
                <div class="overlay check-overlay" id="checkOverlay3">‚úÖ</div>
                <div class="confetti" id="confetti3"></div>
            </div>
        </div>
    </div>

    <script>
        const kits = [
   'Gemini_Generated_Image_5ubuja5ubuja5ubu (2).png', 
   'Gemini_Generated_Image_5ubuja5ubuja5ubu (1).png', 
   'Gemini_Generated_Image_5ubuja5ubuja5ubu (1).png', 
   'Gemini_Generated_Image_5ubuja5ubuja5ubu (2).png', 
   'Gemini_Generated_Image_5ubuja5ubuja5ubu.png', 
   'Gemini_Generated_Image_5ubuja5ubuja5ubu.png'
];

const players = [
   { name: 'Messi', correctKit: 2, face: 'messi-face.png' },
   { name: 'Ronaldo', correctKit: 4, face: 'ronaldo-face.png' },
   { name: 'Neymar', correctKit: 0, face: 'neymar-face.png' }
];

let currentSlot = 0;
let currentAttempt = 0;
const maxAttempts = 6;
let gameState = 'playing';

function createConfetti(slotId) {
   const confettiContainer = document.getElementById(`confetti${slotId}`);
   if (!confettiContainer) return;
   
   confettiContainer.innerHTML = '';
   
   for (let i = 0; i < 30; i++) {
       const piece = document.createElement('div');
       piece.className = 'confetti-piece';
       piece.style.left = Math.random() * 100 + '%';
       piece.style.animationDelay = Math.random() * 0.8 + 's';
       piece.style.animationDuration = (Math.random() * 2 + 1.5) + 's';
       piece.style.backgroundColor = `hsl(${Math.random() * 360}, 70%, 60%)`;
       piece.style.width = Math.random() * 8 + 4 + 'px';
       piece.style.height = piece.style.width;
       
       const keyframes = `
           @keyframes confettiFall${i} {
               0% { 
                   transform: translateY(-100vh) rotateZ(0deg);
                   opacity: 1;
               }
               100% { 
                   transform: translateY(100vh) rotateZ(360deg);
                   opacity: 0;
               }
           }
       `;
       
       if (!document.getElementById(`confetti-style-${i}`)) {
           const style = document.createElement('style');
           style.id = `confetti-style-${i}`;
           style.textContent = keyframes;
           document.head.appendChild(style);
       }
       
       piece.style.animation = `confettiFall${i} ${piece.style.animationDuration} ${piece.style.animationDelay} ease-out forwards`;
       confettiContainer.appendChild(piece);
   }
   
   setTimeout(() => {
       confettiContainer.innerHTML = '';
   }, 4000);
}

function animateFaceToNeck(slotId, isCorrect) {
   const face = document.getElementById(`face${slotId}`);
   const bodyContainer = document.getElementById(`body-container${slotId}`);
   
   if (!face || !bodyContainer) return;
   
   face.style.transition = 'all 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
   
   if (isCorrect) {
       // Smooth drop to neck position
       face.style.transform = 'translateY(140px) scale(1.1)';
       face.style.zIndex = '10';
       
       // Add glow effect
       face.style.boxShadow = '0 0 30px rgba(255, 215, 0, 0.8)';
       face.style.filter = 'brightness(1.2)';
       
       setTimeout(() => {
           face.style.transform = 'translateY(140px) scale(1)';
           face.style.boxShadow = '0 0 15px rgba(255, 215, 0, 0.5)';
       }, 600);
       
   } else {
       // Bounce animation for wrong match
       face.style.transform = 'translateY(80px) scale(0.9)';
       setTimeout(() => {
           face.style.transform = 'translateY(0) scale(1)';
       }, 400);
   }
}

function slideInBody(slotId, kitIndex) {
   const bodyContainer = document.getElementById(`body-container${slotId}`);
   if (!bodyContainer) return null;
   
   // Clear previous body
   bodyContainer.innerHTML = '';
   
   const img = document.createElement('img');
   img.src = kits[kitIndex];
   img.className = 'body-img';
   img.alt = `Kit ${kitIndex + 1}`;
   img.style.cssText = `
       width: 100%;
       height: 100%;
       object-fit: cover;
       border-radius: 15px;
       transform: translateX(-100%);
       opacity: 0;
       transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
       box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
   `;
   
   bodyContainer.appendChild(img);
   
   // Trigger slide-in animation
   setTimeout(() => {
       img.style.transform = 'translateX(0)';
       img.style.opacity = '1';
   }, 100);
   
   return img;
}

function slideOutBody(img) {
   if (!img) return;
   
   img.style.transform = 'translateX(100%) rotate(10deg)';
   img.style.opacity = '0';
   img.style.filter = 'blur(2px)';
   
   setTimeout(() => {
       if (img.parentNode) {
           img.parentNode.removeChild(img);
       }
   }, 800);
}

function showOverlay(overlayId, duration = 1000) {
   const overlay = document.getElementById(overlayId);
   if (!overlay) return;
   
   overlay.style.cssText = `
       position: absolute;
       top: 0;
       left: 0;
       width: 100%;
       height: 100%;
       display: flex;
       align-items: center;
       justify-content: center;
       font-size: 4rem;
       font-weight: bold;
       color: white;
       text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
       background: rgba(0, 0, 0, 0.3);
       border-radius: 15px;
       backdrop-filter: blur(5px);
       z-index: 100;
       opacity: 0;
       transform: scale(0.5);
       transition: all 0.3s ease-out;
   `;
   
   // Show overlay
   setTimeout(() => {
       overlay.style.opacity = '1';
       overlay.style.transform = 'scale(1)';
   }, 50);
   
   // Hide overlay
   setTimeout(() => {
       overlay.style.opacity = '0';
       overlay.style.transform = 'scale(0.5)';
   }, duration);
}

function createSuccessEffect(slotId) {
   const slot = document.getElementById(`slot${slotId}`);
   if (!slot) return;
   
   // Add success glow to entire slot
   slot.style.boxShadow = '0 0 50px rgba(0, 255, 0, 0.5)';
   slot.style.transform = 'scale(1.05)';
   
   setTimeout(() => {
       slot.style.boxShadow = '0 10px 30px rgba(0, 0, 0, 0.2)';
       slot.style.transform = 'scale(1)';
   }, 1500);
}

function processSlot(slotId) {
   if (currentAttempt >= maxAttempts) {
       // Move to next slot
       currentSlot++;
       currentAttempt = 0;
       if (currentSlot < 3) {
           setTimeout(() => processSlot(currentSlot + 1), 1200);
       } else {
           gameState = 'finished';
           showGameComplete();
       }
       return;
   }
   
   const player = players[slotId - 1];
   const correctKit = player.correctKit;
   const isCorrect = correctKit === currentAttempt;
   
   // Show current kit
   const img = slideInBody(slotId, currentAttempt);
   
   // Animate face
   setTimeout(() => {
       animateFaceToNeck(slotId, isCorrect);
   }, 400);
   
   setTimeout(() => {
       if (isCorrect) {
           // Correct match found
           const checkOverlay = document.getElementById(`checkOverlay${slotId}`);
           if (checkOverlay) {
               checkOverlay.innerHTML = '‚úì PERFECT!';
               checkOverlay.style.color = '#00ff00';
               checkOverlay.style.background = 'rgba(0, 255, 0, 0.1)';
           }
           
           showOverlay(`checkOverlay${slotId}`, 1500);
           createSuccessEffect(slotId);
           createConfetti(slotId);
           
           // Keep the correct match and move to next slot
           setTimeout(() => {
               currentSlot++;
               currentAttempt = 0;
               if (currentSlot < 3) {
                   setTimeout(() => processSlot(currentSlot + 1), 800);
               } else {
                   gameState = 'finished';
                   showGameComplete();
               }
           }, 2000);
           
       } else {
           // Wrong match
           const overlay = document.getElementById(`overlay${slotId}`);
           if (overlay) {
               overlay.innerHTML = '‚úó TRY AGAIN';
               overlay.style.color = '#ff6b6b';
               overlay.style.background = 'rgba(255, 107, 107, 0.1)';
           }
           
           showOverlay(`overlay${slotId}`, 800);
           
           setTimeout(() => {
               slideOutBody(img);
               currentAttempt++;
               
               // Reset face position
               const face = document.getElementById(`face${slotId}`);
               if (face) {
                   face.style.transform = 'translateY(0) scale(1)';
                   face.style.boxShadow = 'none';
                   face.style.filter = 'none';
               }
               
               setTimeout(() => processSlot(slotId), 1000);
           }, 1000);
       }
   }, 1000);
}

function showGameComplete() {
   const gameContainer = document.querySelector('.game-container');
   if (!gameContainer) return;
   
   const completeOverlay = document.createElement('div');
   completeOverlay.style.cssText = `
       position: fixed;
       top: 0;
       left: 0;
       width: 100%;
       height: 100%;
       background: rgba(0, 0, 0, 0.8);
       display: flex;
       flex-direction: column;
       align-items: center;
       justify-content: center;
       color: white;
       font-size: 3rem;
       font-weight: bold;
       z-index: 1000;
       opacity: 0;
       transition: all 0.5s ease-out;
   `;
   
   completeOverlay.innerHTML = `
       <div style="text-align: center;">
           <div style="font-size: 4rem; margin-bottom: 20px;">üèÜ</div>
           <div style="background: linear-gradient(45deg, #FFD700, #FFA500); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">
               GAME COMPLETE!
           </div>
           <div style="font-size: 1.5rem; margin-top: 20px; opacity: 0.8;">
               All players matched with their kits!
           </div>
       </div>
   `;
   
   document.body.appendChild(completeOverlay);
   
   setTimeout(() => {
       completeOverlay.style.opacity = '1';
   }, 100);
   
   // Create final confetti celebration
   setTimeout(() => {
       for (let i = 1; i <= 3; i++) {
           createConfetti(i);
       }
   }, 500);
}

function restartGame() {
   currentSlot = 0;
   currentAttempt = 0;
   gameState = 'playing';
   
   // Reset all faces
   for (let i = 1; i <= 3; i++) {
       const face = document.getElementById(`face${i}`);
       const bodyContainer = document.getElementById(`body-container${i}`);
       
       if (face) {
           face.style.transform = 'translateY(0) scale(1)';
           face.style.boxShadow = 'none';
           face.style.filter = 'none';
       }
       
       if (bodyContainer) {
           bodyContainer.innerHTML = '';
       }
   }
   
   // Start the game
   setTimeout(() => {
       processSlot(1);
   }, 500);
}

// Initialize the game when DOM is loaded
document.addEventListener('DOMContentLoaded', function() {
   // Add restart button functionality if it exists
   const restartBtn = document.getElementById('restartBtn');
   if (restartBtn) {
       restartBtn.addEventListener('click', restartGame);
   }
   
   // Start the animation sequence
   setTimeout(() => {
       processSlot(1);
   }, 1000);
});

// Auto-start if DOM is already loaded
if (document.readyState === 'loading') {
   document.addEventListener('DOMContentLoaded', function() {
       setTimeout(() => {
           processSlot(1);
       }, 1000);
   });
} else {
   setTimeout(() => {
       processSlot(1);
   }, 1000);
}
    </script>
</body>
</html>
