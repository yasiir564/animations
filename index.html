<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Football Player Matching - YouTube Short</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
    @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Exo+2:wght@300;400;500;600;700;800;900&display=swap');

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root {
    --primary-gradient: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 25%, #16213e 50%, #0f3460 75%, #533483 100%);
    --accent-gradient: linear-gradient(135deg, #ff6b6b 0%, #ee5a52 25%, #ff8e53 50%, #ff6b9d 75%, #c44569 100%);
    --gold-gradient: linear-gradient(135deg, #ffd700 0%, #ffb347 25%, #ffa500 50%, #ff8c00 75%, #ff7f50 100%);
    --success-gradient: linear-gradient(135deg, #00ff87 0%, #60efff 50%, #00d4ff 100%);
    --danger-gradient: linear-gradient(135deg, #ff416c 0%, #ff4b2b 50%, #ff6b6b 100%);
    --glass-bg: rgba(255, 255, 255, 0.08);
    --glass-border: rgba(255, 255, 255, 0.12);
    --shadow-primary: 0 20px 40px rgba(0, 0, 0, 0.3);
    --shadow-glow: 0 0 30px rgba(255, 107, 107, 0.4);
    --blur-strong: blur(20px);
    --blur-medium: blur(10px);
    --blur-light: blur(5px);
}

body {
    font-family: 'Exo 2', 'Orbitron', system-ui, -apple-system, sans-serif;
    background: var(--primary-gradient);
    min-height: 100vh;
    overflow-x: hidden;
    position: relative;
    font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11';
    color: white;
}

/* Animated Background */
.stadium-bg {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    overflow: hidden;
}

.stadium-bg::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: 
        radial-gradient(circle at 30% 20%, rgba(255, 107, 107, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 70% 80%, rgba(255, 184, 77, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 50% 50%, rgba(96, 239, 255, 0.1) 0%, transparent 50%);
    animation: bgRotate 30s linear infinite;
}

@keyframes loadingPulse {
    0%, 100% { opacity: 0.6; }
    50% { opacity: 1; }
}

/* Hover Effects */
.interactive-glow {
    position: relative;
    overflow: visible;
}

.interactive-glow::before {
    content: '';
    position: absolute;
    top: -2px;
    left: -2px;
    right: -2px;
    bottom: -2px;
    background: var(--accent-gradient);
    border-radius: inherit;
    opacity: 0;
    filter: blur(10px);
    transition: opacity 0.3s ease;
    z-index: -1;
}

.interactive-glow:hover::before {
    opacity: 0.7;
}

/* Cyberpunk Grid Effect */
.cyber-grid {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: 
        linear-gradient(rgba(255, 107, 107, 0.1) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255, 107, 107, 0.1) 1px, transparent 1px);
    background-size: 30px 30px;
    opacity: 0.3;
    animation: cyberPulse 4s ease-in-out infinite;
}

@keyframes cyberPulse {
    0%, 100% { 
        opacity: 0.3;
        transform: scale(1);
    }
    50% { 
        opacity: 0.6;
        transform: scale(1.02);
    }
}

/* Neon Text Effect */
.neon-text {
    text-shadow: 
        0 0 5px currentColor,
        0 0 10px currentColor,
        0 0 15px currentColor,
        0 0 20px currentColor;
    animation: neonFlicker 3s ease-in-out infinite;
}

@keyframes neonFlicker {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.8; }
    75% { opacity: 0.9; }
}

/* Holographic Effect */
.holographic {
    background: linear-gradient(
        45deg,
        rgba(255, 0, 150, 0.1),
        rgba(0, 255, 255, 0.1),
        rgba(255, 255, 0, 0.1),
        rgba(255, 0, 150, 0.1)
    );
    background-size: 400% 400%;
    animation: holographicShift 3s ease-in-out infinite;
}

@keyframes holographicShift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

/* Scan Line Effect */
.scan-lines {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(
        transparent 50%,
        rgba(255, 255, 255, 0.02) 50%,
        transparent 51%
    );
    background-size: 100% 4px;
    animation: scanLines 0.1s linear infinite;
    pointer-events: none;
}

@keyframes scanLines {
    0% { background-position: 0 0; }
    100% { background-position: 0 4px; }
}

/* Chromatic Aberration */
.chromatic-aberration {
    position: relative;
}

.chromatic-aberration::before,
.chromatic-aberration::after {
    content: attr(data-text);
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    mix-blend-mode: screen;
}

.chromatic-aberration::before {
    color: #ff0000;
    transform: translate(-1px, -1px);
    animation: aberrationRed 2s ease-in-out infinite;
}

.chromatic-aberration::after {
    color: #00ffff;
    transform: translate(1px, 1px);
    animation: aberrationCyan 2s ease-in-out infinite;
}

@keyframes aberrationRed {
    0%, 100% { transform: translate(-1px, -1px); }
    50% { transform: translate(-2px, -2px); }
}

@keyframes aberrationCyan {
    0%, 100% { transform: translate(1px, 1px); }
    50% { transform: translate(2px, 2px); }
}

/* Responsive Design */
@media (max-width: 480px) {
    .title {
        font-size: 28px;
        letter-spacing: 3px;
    }
    
    .face-circle {
        width: 85px;
        height: 85px;
    }
    
    .body-slot {
        width: 95px;
        height: 130px;
    }
    
    .body-image {
        width: 85px;
        height: 120px;
    }
    
    .victory-title {
        font-size: 36px;
    }
    
    .victory-trophy {
        font-size: 100px;
    }
    
    .container {
        padding: 20px 15px;
    }
}

@media (max-width: 375px) {
    .title {
        font-size: 24px;
        letter-spacing: 2px;
    }
    
    .face-circle {
        width: 75px;
        height: 75px;
    }
    
    .body-slot {
        width: 85px;
        height: 120px;
    }
    
    .body-image {
        width: 75px;
        height: 110px;
    }
    
    .victory-title {
        font-size: 30px;
    }
    
    .victory-trophy {
        font-size: 80px;
    }
    
    .faces-container,
    .bodies-container {
        padding: 0 10px;
    }
}

@media (max-width: 320px) {
    .container {
        padding: 15px 10px;
    }
    
    .title {
        font-size: 20px;
        letter-spacing: 1px;
    }
    
    .face-circle {
        width: 65px;
        height: 65px;
    }
    
    .body-slot {
        width: 75px;
        height: 110px;
    }
    
    .body-image {
        width: 65px;
        height: 100px;
    }
    
    .victory-title {
        font-size: 24px;
    }
    
    .victory-trophy {
        font-size: 70px;
    }
}

/* High DPI Support */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
    .face-circle,
    .body-slot,
    .status-icon {
        box-shadow: 
            0 0 40px rgba(255, 107, 107, 0.4),
            0 8px 25px rgba(0, 0, 0, 0.3);
    }
    
    .progress-bar {
        box-shadow: 
            0 0 50px rgba(0, 255, 135, 0.6),
            inset 0 3px 6px rgba(255, 255, 255, 0.3);
    }
}

/* Dark mode enhancements */
@media (prefers-color-scheme: dark) {
    :root {
        --glass-bg: rgba(255, 255, 255, 0.05);
        --glass-border: rgba(255, 255, 255, 0.08);
    }
    
    .progress-container {
        background: rgba(255, 255, 255, 0.05);
    }
    
    .body-slot {
        background: rgba(255, 255, 255, 0.03);
    }
    
    .field-lines {
        opacity: 0.06;
    }
}

/* Light mode fallback */
@media (prefers-color-scheme: light) {
    :root {
        --glass-bg: rgba(0, 0, 0, 0.1);
        --glass-border: rgba(0, 0, 0, 0.15);
    }
    
    .title {
        text-shadow: 
            0 0 10px rgba(255, 107, 107, 0.6),
            0 0 20px rgba(255, 107, 107, 0.4);
    }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
    
    .face-circle::before,
    .progress-bar::after,
    .connection-line::before {
        animation: none !important;
    }
}

/* Print styles */
@media print {
    .stadium-bg,
    .particle-system,
    .victory-overlay {
        display: none !important;
    }
    
    body {
        background: white !important;
        color: black !important;
    }
    
    .title,
    .face-name {
        color: black !important;
        text-shadow: none !important;
    }
}

/* Accessibility enhancements */
@media (prefers-contrast: high) {
    .title {
        color: white;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
    }
    
    .face-name {
        color: white;
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
    }
    
    .body-slot {
        border-color: rgba(255, 255, 255, 0.8);
    }
}

/* Focus styles for keyboard navigation */
.face-item:focus,
.body-slot:focus {
    outline: 3px solid rgba(255, 107, 107, 0.8);
    outline-offset: 2px;
}

/* Enhanced hover states */
.face-item:hover .face-name {
    transform: scale(1.05);
    text-shadow: 
        0 0 15px rgba(255, 107, 107, 1),
        0 3px 10px rgba(0, 0, 0, 0.8);
}

.body-slot:hover {
    transform: translateY(-3px);
}

/* Sparkle effect for active elements */
.sparkle-effect {
    position: relative;
    overflow: visible;
}

.sparkle-effect::before {
    content: '✨';
    position: absolute;
    top: -20px;
    right: -20px;
    font-size: 20px;
    opacity: 0;
    animation: sparkleFloat 2s ease-in-out infinite;
}

@keyframes sparkleFloat {
    0%, 100% { 
        opacity: 0;
        transform: translateY(0) rotate(0deg);
    }
    50% { 
        opacity: 1;
        transform: translateY(-10px) rotate(180deg);
    }
}

/* Success celebration effects */
.celebration-burst {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 10px;
    height: 10px;
    background: var(--gold-gradient);
    border-radius: 50%;
    transform: translate(-50%, -50%);
    animation: celebrationBurst 1s ease-out forwards;
}

@keyframes celebrationBurst {
    0% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
    }
    100% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(10);
    }
}

/* Final touches for ultra-modern look */
.ultra-modern-container {
    position: relative;
    z-index: 1;
}

.ultra-modern-container::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: var(--primary-gradient);
    opacity: 0.9;
    z-index: -1;
}

/* Smooth transitions for all interactive elements */
.smooth-transition {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.smooth-transition:hover {
    transform: translateY(-2px);
    filter: brightness(1.1);
} bgRotate {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* Floating Particles */
.particle-system {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: -1;
}

.floating-particle {
    position: absolute;
    width: 4px;
    height: 4px;
    background: var(--gold-gradient);
    border-radius: 50%;
    opacity: 0;
    animation: floatParticle 8s linear infinite;
    box-shadow: 0 0 10px rgba(255, 215, 0, 0.8);
}

@keyframes floatParticle {
    0% {
        opacity: 0;
        transform: translateY(100vh) translateX(0) scale(0);
    }
    10% {
        opacity: 1;
        transform: translateY(90vh) translateX(10px) scale(1);
    }
    90% {
        opacity: 1;
        transform: translateY(-10vh) translateX(-10px) scale(1);
    }
    100% {
        opacity: 0;
        transform: translateY(-20vh) translateX(0) scale(0);
    }
}

/* Geometric Grid Pattern */
.field-lines {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0.08;
    background-image: 
        linear-gradient(90deg, rgba(255, 255, 255, 0.3) 1px, transparent 1px),
        linear-gradient(180deg, rgba(255, 255, 255, 0.3) 1px, transparent 1px);
    background-size: 50px 50px;
    animation: gridPulse 4s ease-in-out infinite;
}

@keyframes gridPulse {
    0%, 100% { opacity: 0.08; }
    50% { opacity: 0.15; }
}

.field-lines::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 0;
    width: 100%;
    height: 3px;
    background: linear-gradient(90deg, transparent, rgba(255, 107, 107, 0.6), transparent);
    transform: translateY(-50%);
    box-shadow: 0 0 30px rgba(255, 107, 107, 0.4);
    animation: lineGlow 3s ease-in-out infinite;
}

@keyframes lineGlow {
    0%, 100% { opacity: 0.6; }
    50% { opacity: 1; }
}

.field-lines::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 200px;
    height: 200px;
    border: 3px solid rgba(255, 184, 77, 0.4);
    border-radius: 50%;
    transform: translate(-50%, -50%);
    box-shadow: 
        0 0 50px rgba(255, 184, 77, 0.3),
        inset 0 0 50px rgba(255, 184, 77, 0.2);
    animation: centerPulse 5s ease-in-out infinite;
}

@keyframes centerPulse {
    0%, 100% { 
        transform: translate(-50%, -50%) scale(1);
        opacity: 0.4;
    }
    50% { 
        transform: translate(-50%, -50%) scale(1.1);
        opacity: 0.8;
    }
}

/* Ambient Lighting */
.crowd-lights {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 150px;
    background: linear-gradient(180deg, 
        rgba(255, 107, 107, 0.3) 0%, 
        rgba(255, 184, 77, 0.2) 30%,
        rgba(96, 239, 255, 0.15) 60%,
        transparent 100%);
    animation: crowdLights 6s ease-in-out infinite;
    filter: blur(40px);
}

@keyframes crowdLights {
    0%, 100% { 
        opacity: 0.7;
        transform: scale(1);
    }
    33% { 
        opacity: 1;
        transform: scale(1.05);
    }
    66% { 
        opacity: 0.8;
        transform: scale(0.95);
    }
}

/* Main Container */
.container {
    width: 100%;
    max-width: 420px;
    margin: 0 auto;
    padding: 30px 20px;
    min-height: 100vh;
    position: relative;
    z-index: 1;
}

/* Enhanced Progress Bar */
.progress-container {
    width: 100%;
    height: 16px;
    background: var(--glass-bg);
    border-radius: 25px;
    margin-bottom: 40px;
    overflow: hidden;
    box-shadow: 
        var(--shadow-primary),
        inset 0 2px 8px rgba(0, 0, 0, 0.2);
    backdrop-filter: var(--blur-medium);
    border: 1px solid var(--glass-border);
    position: relative;
}

.progress-container::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
    animation: progressScan 3s infinite;
}

@keyframes progressScan {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
}

.progress-bar {
    height: 100%;
    background: var(--success-gradient);
    width: 0%;
    transition: width 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    border-radius: 25px;
    box-shadow: 
        0 0 40px rgba(0, 255, 135, 0.6),
        inset 0 2px 4px rgba(255, 255, 255, 0.3);
    position: relative;
    overflow: hidden;
}

.progress-bar::after {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, 
        transparent, 
        rgba(255, 255, 255, 0.6), 
        transparent);
    animation: progressFlow 2.5s infinite;
}

@keyframes progressFlow {
    0% { left: -100%; }
    100% { left: 100%; }
}

/* Modern Title */
.title {
    text-align: center;
    font-family: 'Orbitron', monospace;
    font-size: 32px;
    font-weight: 900;
    margin-bottom: 40px;
    text-shadow: 
        0 0 10px rgba(255, 107, 107, 0.8),
        0 0 20px rgba(255, 107, 107, 0.6),
        0 0 40px rgba(255, 107, 107, 0.4);
    letter-spacing: 4px;
    background: var(--accent-gradient);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: titlePulse 3s ease-in-out infinite;
    position: relative;
}

.title::before {
    content: '';
    position: absolute;
    top: -10px;
    left: -10px;
    right: -10px;
    bottom: -10px;
    background: var(--accent-gradient);
    opacity: 0.1;
    border-radius: 15px;
    filter: blur(20px);
    z-index: -1;
    animation: titleGlow 3s ease-in-out infinite;
}

@keyframes titlePulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.02); }
}

@keyframes titleGlow {
    0%, 100% { opacity: 0.1; }
    50% { opacity: 0.3; }
}

/* Faces Section */
.faces-container {
    display: flex;
    justify-content: space-around;
    margin-bottom: 70px;
    padding: 0 20px;
    position: relative;
}

.face-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
    cursor: pointer;
    position: relative;
}

.face-item::before {
    content: '';
    position: absolute;
    top: -15px;
    left: -15px;
    right: -15px;
    bottom: -30px;
    background: var(--gold-gradient);
    opacity: 0;
    border-radius: 50%;
    filter: blur(20px);
    transition: all 0.3s ease;
    z-index: -1;
}

.face-item:hover::before {
    opacity: 0.3;
}

.face-item:hover {
    transform: translateY(-8px) scale(1.05);
}

.face-item.active {
    transform: scale(1.2) translateY(-12px);
    filter: brightness(1.3) saturate(1.2);
}

.face-item.active::before {
    opacity: 0.5;
    animation: activeGlow 2s ease-in-out infinite;
}

@keyframes activeGlow {
    0%, 100% { opacity: 0.3; }
    50% { opacity: 0.7; }
}

.face-circle {
    width: 95px;
    height: 95px;
    border-radius: 50%;
    background: var(--gold-gradient);
    border: 3px solid rgba(255, 255, 255, 0.8);
    box-shadow: 
        var(--shadow-primary),
        0 0 30px rgba(255, 215, 0, 0.5),
        inset 0 2px 4px rgba(255, 255, 255, 0.3);
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 15px;
    overflow: hidden;
    position: relative;
    backdrop-filter: var(--blur-light);
}

.face-circle::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: conic-gradient(
        from 0deg,
        transparent 0deg,
        rgba(255, 255, 255, 0.2) 60deg,
        transparent 120deg,
        rgba(255, 255, 255, 0.1) 180deg,
        transparent 240deg,
        rgba(255, 255, 255, 0.2) 300deg,
        transparent 360deg
    );
    animation: orbitalRotate 4s linear infinite;
}

@keyframes orbitalRotate {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

.face-circle::after {
    content: '';
    position: absolute;
    top: 5px;
    left: 5px;
    right: 5px;
    bottom: 5px;
    border-radius: 50%;
    background: linear-gradient(135deg, 
        rgba(255, 255, 255, 0.1) 0%, 
        transparent 50%, 
        rgba(0, 0, 0, 0.1) 100%);
    z-index: 1;
}

.face-circle img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 50%;
    position: relative;
    z-index: 2;
    transition: all 0.3s ease;
}

.face-item:hover .face-circle img {
    transform: scale(1.1);
}

.face-name {
    font-family: 'Orbitron', monospace;
    font-weight: 700;
    font-size: 12px;
    text-transform: uppercase;
    letter-spacing: 2px;
    text-shadow: 
        0 0 10px rgba(255, 107, 107, 0.8),
        0 2px 8px rgba(0, 0, 0, 0.8);
    background: var(--accent-gradient);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: nameGlow 2s ease-in-out infinite;
}

@keyframes nameGlow {
    0%, 100% { filter: brightness(1); }
    50% { filter: brightness(1.3); }
}

/* Bodies Section */
.bodies-container {
    display: flex;
    justify-content: space-around;
    margin-bottom: 50px;
    padding: 0 20px;
    position: relative;
}

.body-slot {
    width: 105px;
    height: 140px;
    border: 3px dashed rgba(255, 255, 255, 0.3);
    border-radius: 25px;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
    background: var(--glass-bg);
    backdrop-filter: var(--blur-medium);
    box-shadow: 
        var(--shadow-primary),
        inset 0 2px 8px rgba(0, 0, 0, 0.1);
    overflow: hidden;
}

.body-slot::before {
    content: '';
    position: absolute;
    top: -3px;
    left: -3px;
    right: -3px;
    bottom: -3px;
    background: var(--accent-gradient);
    opacity: 0;
    border-radius: 28px;
    z-index: -1;
    transition: all 0.3s ease;
}

.body-slot::after {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, 
        transparent, 
        rgba(255, 255, 255, 0.1), 
        transparent);
    transition: all 0.3s ease;
}

.body-slot:hover::before {
    opacity: 0.3;
}

.body-slot:hover::after {
    left: 100%;
}

.body-slot.glow {
    border-color: #ffd700;
    box-shadow: 
        0 0 50px rgba(255, 215, 0, 0.7),
        0 0 100px rgba(255, 215, 0, 0.4);
    animation: slotGlow 0.8s ease-in-out;
    background: rgba(255, 215, 0, 0.1);
    transform: scale(1.08);
}

.body-slot.correct {
    border-color: #00ff87;
    background: rgba(0, 255, 135, 0.15);
    box-shadow: 
        0 0 50px rgba(0, 255, 135, 0.7),
        0 0 100px rgba(0, 255, 135, 0.4);
    animation: correctPulse 1.5s ease-in-out;
}

.body-slot.wrong {
    border-color: #ff416c;
    background: rgba(255, 65, 108, 0.15);
    box-shadow: 
        0 0 50px rgba(255, 65, 108, 0.7),
        0 0 100px rgba(255, 65, 108, 0.4);
    animation: wrongShake 0.8s ease-in-out;
}

@keyframes slotGlow {
    0%, 100% { transform: scale(1.08); }
    50% { transform: scale(1.15); }
}

@keyframes correctPulse {
    0% { transform: scale(1); }
    25% { transform: scale(1.15); }
    50% { transform: scale(1.1); }
    75% { transform: scale(1.08); }
    100% { transform: scale(1); }
}

@keyframes wrongShake {
    0%, 100% { transform: translateX(0); }
    15% { transform: translateX(-12px) rotate(-2deg); }
    30% { transform: translateX(12px) rotate(2deg); }
    45% { transform: translateX(-8px) rotate(-1deg); }
    60% { transform: translateX(8px) rotate(1deg); }
    75% { transform: translateX(-4px); }
    90% { transform: translateX(4px); }
}

.body-image {
    width: 95px;
    height: 130px;
    object-fit: cover;
    border-radius: 20px;
    opacity: 0;
    transform: scale(0.5) rotate(10deg);
    transition: all 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    box-shadow: 
        0 10px 30px rgba(0, 0, 0, 0.4),
        0 0 20px rgba(255, 107, 107, 0.2);
    border: 2px solid rgba(255, 255, 255, 0.1);
}

.body-image.show {
    opacity: 1;
    transform: scale(1) rotate(0deg);
}

/* Enhanced Status Icons */
.status-icon {
    position: absolute;
    top: -20px;
    right: -20px;
    width: 42px;
    height: 42px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    font-weight: 900;
    opacity: 0;
    transform: scale(0) rotate(180deg);
    transition: all 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    z-index: 10;
    border: 3px solid white;
    backdrop-filter: var(--blur-light);
}

.status-icon.show {
    opacity: 1;
    transform: scale(1) rotate(0deg);
}

.status-icon.correct {
    background: var(--success-gradient);
    color: white;
    box-shadow: 
        0 0 30px rgba(0, 255, 135, 0.8),
        0 8px 20px rgba(0, 0, 0, 0.3);
    animation: correctSpin 1s ease-in-out;
}

.status-icon.wrong {
    background: var(--danger-gradient);
    color: white;
    box-shadow: 
        0 0 30px rgba(255, 65, 108, 0.8),
        0 8px 20px rgba(0, 0, 0, 0.3);
    animation: wrongPulse 1s ease-in-out;
}

@keyframes correctSpin {
    0% { transform: scale(1) rotate(0deg); }
    50% { transform: scale(1.2) rotate(180deg); }
    100% { transform: scale(1) rotate(360deg); }
}

@keyframes wrongPulse {
    0%, 100% { transform: scale(1); }
    25% { transform: scale(1.3); }
    50% { transform: scale(1.1); }
    75% { transform: scale(1.2); }
}

/* Connection Lines */
.connection-line {
    position: absolute;
    height: 6px;
    background: var(--success-gradient);
    border-radius: 5px;
    opacity: 0;
    transform-origin: left;
    transform: scaleX(0);
    transition: all 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    box-shadow: 
        0 0 20px rgba(0, 255, 135, 0.6),
        0 4px 12px rgba(0, 0, 0, 0.3);
    overflow: hidden;
}

.connection-line::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, 
        transparent, 
        rgba(255, 255, 255, 0.6), 
        transparent);
    animation: connectionFlow 2.5s infinite;
}

@keyframes connectionFlow {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
}

.connection-line.show {
    opacity: 1;
    transform: scaleX(1);
}

/* Victory Screen */
.victory-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.9);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    opacity: 0;
    visibility: hidden;
    transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    z-index: 1000;
    backdrop-filter: var(--blur-strong);
}

.victory-overlay.show {
    opacity: 1;
    visibility: visible;
}

.victory-content {
    text-align: center;
    color: white;
    animation: victoryEntrance 1.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    position: relative;
}

.victory-content::before {
    content: '';
    position: absolute;
    top: -50px;
    left: -50px;
    right: -50px;
    bottom: -50px;
    background: var(--gold-gradient);
    opacity: 0.2;
    border-radius: 50%;
    filter: blur(60px);
    animation: victoryGlow 3s ease-in-out infinite;
}

@keyframes victoryGlow {
    0%, 100% { opacity: 0.2; }
    50% { opacity: 0.4; }
}

.victory-trophy {
    font-size: 120px;
    margin-bottom: 30px;
    animation: trophyFloat 4s ease-in-out infinite;
    filter: drop-shadow(0 15px 30px rgba(255, 215, 0, 0.4));
    position: relative;
    z-index: 1;
}

.victory-title {
    font-family: 'Orbitron', monospace;
    font-size: 42px;
    font-weight: 900;
    margin-bottom: 20px;
    text-shadow: 
        0 0 20px rgba(255, 107, 107, 0.8),
        0 0 40px rgba(255, 107, 107, 0.6),
        0 8px 20px rgba(0, 0, 0, 0.7);
    background: var(--gold-gradient);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    letter-spacing: 3px;
    position: relative;
    z-index: 1;
}

.victory-subtitle {
    font-size: 20px;
    opacity: 0.9;
    font-weight: 500;
    letter-spacing: 1.5px;
    font-family: 'Exo 2', sans-serif;
    position: relative;
    z-index: 1;
}

@keyframes victoryEntrance {
    0% { 
        transform: scale(0.2) rotate(-20deg); 
        opacity: 0; 
    }
    30% { 
        transform: scale(1.2) rotate(10deg); 
        opacity: 0.8;
    }
    60% { 
        transform: scale(0.9) rotate(-5deg); 
        opacity: 0.9;
    }
    100% { 
        transform: scale(1) rotate(0deg); 
        opacity: 1; 
    }
}

@keyframes trophyFloat {
    0%, 100% { 
        transform: translateY(0px) rotate(0deg) scale(1); 
    }
    25% { 
        transform: translateY(-20px) rotate(3deg) scale(1.05); 
    }
    50% { 
        transform: translateY(0px) rotate(0deg) scale(1); 
    }
    75% { 
        transform: translateY(-15px) rotate(-3deg) scale(1.02); 
    }
}

/* Enhanced Particles */
.victory-particle {
    position: fixed;
    width: 12px;
    height: 12px;
    background: var(--gold-gradient);
    border-radius: 50%;
    opacity: 0;
    z-index: 999;
    animation: victoryParticle 5s linear infinite;
    box-shadow: 
        0 0 15px rgba(255, 215, 0, 0.8),
        0 0 30px rgba(255, 215, 0, 0.4);
}

@keyframes victoryParticle {
    0% {
        opacity: 1;
        transform: translateY(100vh) rotate(0deg) scale(0.5);
    }
    20% {
        opacity: 1;
        transform: translateY(80vh) rotate(72deg) scale(1);
    }
    80% {
        opacity: 1;
        transform: translateY(-10vh) rotate(288deg) scale(1);
    }
    100% {
        opacity: 0;
        transform: translateY(-20vh) rotate(360deg) scale(0);
    }
}

/* Micro Interactions */
.face-item:active {
    transform: scale(0.95);
    transition: transform 0.1s ease;
}

.body-slot:active {
    transform: scale(0.95);
    transition: transform 0.1s ease;
}

/* Enhanced Glassmorphism */
.glass-effect {
    background: var(--glass-bg);
    backdrop-filter: var(--blur-medium);
    border: 1px solid var(--glass-border);
    box-shadow: 
        0 12px 40px rgba(0, 0, 0, 0.15),
        inset 0 2px 4px rgba(255, 255, 255, 0.1);
}

/* Loading Animation */
.loading-pulse {
    animation: loadingPulse 2s ease-in-out infinite;
}

/* Complete the loadingPulse animation */
@keyframes loadingPulse {
    0%, 100% { 
        opacity: 0.6; 
        transform: scale(1);
    }
    50% { 
        opacity: 1; 
        transform: scale(1.05);
    }
}

/* Background rotation animation that was missing */
@keyframes bgRotate {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* Additional Modern Enhancements */

/* Pulsing border effect */
.pulse-border {
    position: relative;
    overflow: visible;
}

.pulse-border::before {
    content: '';
    position: absolute;
    top: -3px;
    left: -3px;
    right: -3px;
    bottom: -3px;
    background: var(--accent-gradient);
    border-radius: inherit;
    opacity: 0;
    filter: blur(8px);
    animation: pulseBorder 2s ease-in-out infinite;
    z-index: -1;
}

@keyframes pulseBorder {
    0%, 100% { 
        opacity: 0;
        transform: scale(0.95);
    }
    50% { 
        opacity: 0.8;
        transform: scale(1.05);
    }
}

/* Magnetic hover effect */
.magnetic-hover {
    transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    position: relative;
}

.magnetic-hover::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    background: radial-gradient(circle, rgba(255, 255, 255, 0.2) 0%, transparent 70%);
    border-radius: 50%;
    transform: translate(-50%, -50%);
    transition: all 0.3s ease;
    pointer-events: none;
}

.magnetic-hover:hover::after {
    width: 150%;
    height: 150%;
}

/* Ripple effect */
.ripple-effect {
    position: relative;
    overflow: hidden;
}

.ripple-effect::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    background: rgba(255, 255, 255, 0.4);
    border-radius: 50%;
    transform: translate(-50%, -50%);
    transition: all 0.6s ease;
    opacity: 0;
}

.ripple-effect:active::before {
    width: 300%;
    height: 300%;
    opacity: 1;
    transition: all 0.1s ease;
}

/* Energy waves */
.energy-waves {
    position: relative;
    overflow: visible;
}

.energy-waves::before,
.energy-waves::after {
    content: '';
    position: absolute;
    top: -5px;
    left: -5px;
    right: -5px;
    bottom: -5px;
    border: 2px solid rgba(255, 107, 107, 0.3);
    border-radius: inherit;
    opacity: 0;
    animation: energyWave 3s ease-in-out infinite;
}

.energy-waves::after {
    animation-delay: 1.5s;
}

@keyframes energyWave {
    0% {
        opacity: 0;
        transform: scale(0.8);
    }
    50% {
        opacity: 1;
        transform: scale(1.2);
    }
    100% {
        opacity: 0;
        transform: scale(1.8);
    }
}

/* Glitch effect */
.glitch-text {
    position: relative;
    animation: glitchBase 2s ease-in-out infinite;
}

.glitch-text::before,
.glitch-text::after {
    content: attr(data-text);
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: inherit;
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
}

.glitch-text::before {
    color: #ff0080;
    animation: glitchBefore 2s ease-in-out infinite;
}

.glitch-text::after {
    color: #00ff80;
    animation: glitchAfter 2s ease-in-out infinite;
}

@keyframes glitchBase {
    0%, 100% { transform: translate(0); }
    20% { transform: translate(-2px, 2px); }
    40% { transform: translate(-2px, -2px); }
    60% { transform: translate(2px, 2px); }
    80% { transform: translate(2px, -2px); }
}

@keyframes glitchBefore {
    0%, 100% { transform: translate(0); }
    20% { transform: translate(2px, 2px); }
    40% { transform: translate(2px, -2px); }
    60% { transform: translate(-2px, 2px); }
    80% { transform: translate(-2px, -2px); }
}

@keyframes glitchAfter {
    0%, 100% { transform: translate(0); }
    20% { transform: translate(-2px, -2px); }
    40% { transform: translate(2px, 2px); }
    60% { transform: translate(2px, -2px); }
    80% { transform: translate(-2px, 2px); }
}

/* Breathing animation */
.breathing-effect {
    animation: breathing 4s ease-in-out infinite;
}

@keyframes breathing {
    0%, 100% { 
        transform: scale(1); 
        opacity: 1; 
    }
    50% { 
        transform: scale(1.03); 
        opacity: 0.9; 
    }
}

/* Liquid button effect */
.liquid-button {
    position: relative;
    overflow: hidden;
    transition: all 0.3s ease;
}

.liquid-button::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: all 0.6s ease;
}

.liquid-button:hover::before {
    left: 100%;
}

/* Morphing shapes */
.morphing-shape {
    border-radius: 50%;
    animation: morphShape 8s ease-in-out infinite;
}

@keyframes morphShape {
    0%, 100% { 
        border-radius: 50%; 
        transform: rotate(0deg);
    }
    25% { 
        border-radius: 20% 80% 30% 70%; 
        transform: rotate(90deg);
    }
    50% { 
        border-radius: 80% 20% 70% 30%; 
        transform: rotate(180deg);
    }
    75% { 
        border-radius: 30% 70% 20% 80%; 
        transform: rotate(270deg);
    }
}

/* Floating labels */
.floating-label {
    position: relative;
    margin-bottom: 20px;
}

.floating-label input {
    width: 100%;
    padding: 15px;
    background: var(--glass-bg);
    border: 2px solid var(--glass-border);
    border-radius: 12px;
    color: white;
    font-size: 16px;
    transition: all 0.3s ease;
    backdrop-filter: var(--blur-medium);
}

.floating-label input:focus {
    outline: none;
    border-color: var(--accent-gradient);
    box-shadow: 0 0 20px rgba(255, 107, 107, 0.3);
}

.floating-label label {
    position: absolute;
    top: 50%;
    left: 15px;
    transform: translateY(-50%);
    background: var(--accent-gradient);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    transition: all 0.3s ease;
    pointer-events: none;
    font-weight: 600;
}

.floating-label input:focus + label,
.floating-label input:not(:placeholder-shown) + label {
    top: -10px;
    left: 10px;
    font-size: 12px;
    padding: 0 5px;
    background: var(--primary-gradient);
    -webkit-text-fill-color: white;
}

/* Parallax layers */
.parallax-layer {
    position: absolute;
    width: 100%;
    height: 100%;
    background-size: cover;
    background-attachment: fixed;
    background-position: center;
    background-repeat: no-repeat;
}

.parallax-layer-1 {
    transform: translateZ(-1px) scale(2);
}

.parallax-layer-2 {
    transform: translateZ(-2px) scale(3);
}

/* Elastic animations */
.elastic-in {
    animation: elasticIn 1s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

@keyframes elasticIn {
    0% {
        transform: scale(0) rotate(360deg);
        opacity: 0;
    }
    60% {
        transform: scale(1.2) rotate(0deg);
        opacity: 1;
    }
    100% {
        transform: scale(1) rotate(0deg);
        opacity: 1;
    }
}

/* Typing effect */
.typing-effect {
    overflow: hidden;
    border-right: 3px solid rgba(255, 107, 107, 0.8);
    white-space: nowrap;
    animation: typing 3s steps(30, end), blink 1s infinite;
}

@keyframes typing {
    from { width: 0; }
    to { width: 100%; }
}

@keyframes blink {
    0%, 50% { border-color: rgba(255, 107, 107, 0.8); }
    51%, 100% { border-color: transparent; }
}

/* Final utility classes */
.fade-in {
    opacity: 0;
    animation: fadeIn 1s ease-in-out forwards;
}

@keyframes fadeIn {
    to { opacity: 1; }
}

.slide-up {
    transform: translateY(50px);
    opacity: 0;
    animation: slideUp 0.8s ease-out forwards;
}

@keyframes slideUp {
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

.zoom-in {
    transform: scale(0.8);
    opacity: 0;
    animation: zoomIn 0.6s ease-out forwards;
}

@keyframes zoomIn {
    to {
        transform: scale(1);
        opacity: 1;
    }
}

/* Performance optimizations */
.gpu-accelerated {
    transform: translateZ(0);
    will-change: transform;
}

.smooth-scroll {
    scroll-behavior: smooth;
}

/* Final responsive touch-ups */
@media (max-width: 280px) {
    .title {
        font-size: 18px;
        letter-spacing: 1px;
    }
    
    .face-circle {
        width: 55px;
        height: 55px;
    }
    
    .body-slot {
        width: 65px;
        height: 90px;
    }
    
    .body-image {
        width: 55px;
        height: 80px;
    }
    
    .victory-title {
        font-size: 20px;
    }
    
    .victory-trophy {
        font-size: 60px;
    }
}

/* High contrast mode improvements */
@media (prefers-contrast: high) {
    .progress-bar {
        border: 2px solid white;
    }
    
    .face-circle {
        border-width: 4px;
    }
    
    .body-slot {
        border-width: 4px;
    }
}

/* Optimize for touch devices */
@media (hover: none) and (pointer: coarse) {
    .face-item:hover,
    .body-slot:hover {
        transform: none;
    }
    
    .face-item:active,
    .body-slot:active {
        transform: scale(0.95);
    }
}
    </style>
</head>
<body>
    <div class="stadium-bg">
        <div class="field-lines"></div>
        <div class="crowd-lights"></div>
    </div>

    <div class="container">
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>

        <div class="title">⚽ MATCH THE PLAYERS ⚽</div>

        <div class="faces-container">
            <div class="face-item" data-player="0">
                <div class="face-circle">
                    <img src="Gemini_Generated_Image_rtgbfurtgbfurtgb.png" alt="Messi" onerror="this.style.display='none'">
                </div>
                <div class="face-name">MESSI</div>
            </div>
            <div class="face-item" data-player="1">
                <div class="face-circle">
                    <img src="Gemini_Generated_Image_7yg3s37yg3s37yg3.png" alt="Ronaldo" onerror="this.style.display='none'">
                </div>
                <div class="face-name">RONALDO</div>
            </div>
            <div class="face-item" data-player="2">
                <div class="face-circle">
                    <img src="Gemini_Generated_Image_jj12lzjj12lzjj12.png" alt="Neymar" onerror="this.style.display='none'">
                </div>
                <div class="face-name">NEYMAR</div>
            </div>
        </div>

        <div class="bodies-container">
            <div class="body-slot" data-slot="0">
                <img class="body-image" src="Gemini_Generated_Image_5ubuja5ubuja5ubu (1).png" alt="Messi Body" onerror="this.style.display='none'">
                <div class="status-icon"></div>
            </div>
            <div class="body-slot" data-slot="1">
                <img class="body-image" src="Gemini_Generated_Image_5ubuja5ubuja5ubu.png" alt="Ronaldo Body" onerror="this.style.display='none'">
                <div class="status-icon"></div>
            </div>
            <div class="body-slot" data-slot="2">
                <img class="body-image" src="Gemini_Generated_Image_5ubuja5ubuja5ubu (2).png" alt="Neymar Body" onerror="this.style.display='none'">
                <div class="status-icon"></div>
            </div>
        </div>
    </div>

    <div class="victory-overlay" id="victoryOverlay">
        <div class="victory-content">
            <div class="victory-trophy">🏆</div>
            <div class="victory-title">PERFECT MATCH!</div>
            <div class="victory-subtitle">All players matched successfully!</div>
        </div>
    </div>
    <audio id="successSound" src="success.mp3" preload="auto"></audio>
<audio id="failSound" src="fail.mp3" preload="auto"></audio>
<audio id="victorySound" src="victory.mp3" preload="auto"></audio>


        <script>
        class FootballMatchingGame {
            constructor() {
                this.players = ['Messi', 'Ronaldo', 'Neymar'];
                this.correctMatches = [0, 1, 2]; // Correct slot for each player
                this.currentPlayer = 0;
                this.matchedPlayers = 0;
                this.connectionLines = [];
                
                // Initialize sound effects
                this.sounds = {
                    success: new Audio('success.mp3'),
                    fail: new Audio('fail.mp3'),
                    victory: new Audio('victory.mp3')
                };
                
                this.init();
            }

            init() {
                setTimeout(() => {
                    this.startGame();
                }, 1000);
            }

            startGame() {
                this.tryMatchPlayer(this.currentPlayer);
            }

            tryMatchPlayer(playerIndex) {
                const faceItem = document.querySelector(`[data-player="${playerIndex}"]`);
                faceItem.classList.add('active');

                // Generate random attempts (including wrong ones first)
                const attempts = this.generateAttempts(playerIndex);
                
                this.executeAttempts(playerIndex, attempts, 0);
            }

            generateAttempts(playerIndex) {
                const correctSlot = this.correctMatches[playerIndex];
                const wrongSlots = [0, 1, 2].filter(slot => slot !== correctSlot);
                
                // Random wrong attempts first, then correct
                const wrongAttempts = wrongSlots.sort(() => Math.random() - 0.5).slice(0, Math.floor(Math.random() * 2) + 1);
                
                return [...wrongAttempts, correctSlot];
            }

            executeAttempts(playerIndex, attempts, attemptIndex) {
                if (attemptIndex >= attempts.length) {
                    this.finishPlayerTurn(playerIndex);
                    return;
                }

                const slotIndex = attempts[attemptIndex];
                const isCorrect = slotIndex === this.correctMatches[playerIndex];
                
                this.animateAttempt(playerIndex, slotIndex, isCorrect, () => {
                    if (isCorrect) {
                        this.handleCorrectMatch(playerIndex, slotIndex);
                        this.finishPlayerTurn(playerIndex);
                    } else {
                        setTimeout(() => {
                            this.executeAttempts(playerIndex, attempts, attemptIndex + 1);
                        }, 1000);
                    }
                });
            }

            animateAttempt(playerIndex, slotIndex, isCorrect, callback) {
                const slot = document.querySelector(`[data-slot="${slotIndex}"]`);
                const bodyImage = slot.querySelector('.body-image');
                const statusIcon = slot.querySelector('.status-icon');

                // Glow effect
                slot.classList.add('glow');
                
                setTimeout(() => {
                    slot.classList.remove('glow');
                    
                    // Show body image
                    bodyImage.classList.add('show');
                    
                    setTimeout(() => {
                        if (isCorrect) {
                            slot.classList.add('correct');
                            statusIcon.innerHTML = '✅';
                            statusIcon.classList.add('correct', 'show');
                            
                            // Play success sound
                            this.sounds.success.currentTime = 0;
                            this.sounds.success.play();
                        } else {
                            slot.classList.add('wrong');
                            statusIcon.innerHTML = '❌';
                            statusIcon.classList.add('wrong', 'show');
                            
                            // Play fail sound
                            this.sounds.fail.currentTime = 0;
                            this.sounds.fail.play();
                            
                            // Remove wrong attempt after delay
                            setTimeout(() => {
                                bodyImage.classList.remove('show');
                                statusIcon.classList.remove('show');
                                slot.classList.remove('wrong');
                                
                                setTimeout(() => {
                                    statusIcon.classList.remove('wrong');
                                    callback();
                                }, 300);
                            }, 1000);
                            return;
                        }
                        
                        callback();
                    }, 500);
                }, 500);
            }

            handleCorrectMatch(playerIndex, slotIndex) {
                this.matchedPlayers++;
                this.updateProgressBar();
                this.drawConnectionLine(playerIndex, slotIndex);
                
                if (this.matchedPlayers === 3) {
                    setTimeout(() => {
                        this.showVictory();
                    }, 1000);
                }
            }

            finishPlayerTurn(playerIndex) {
                const faceItem = document.querySelector(`[data-player="${playerIndex}"]`);
                faceItem.classList.remove('active');
                
                if (this.currentPlayer < 2) {
                    this.currentPlayer++;
                    setTimeout(() => {
                        this.tryMatchPlayer(this.currentPlayer);
                    }, 1500);
                }
            }

            updateProgressBar() {
                const progressBar = document.getElementById('progressBar');
                const percentage = (this.matchedPlayers / 3) * 100;
                progressBar.style.width = percentage + '%';
            }

            drawConnectionLine(playerIndex, slotIndex) {
                const faceItem = document.querySelector(`[data-player="${playerIndex}"]`);
                const slot = document.querySelector(`[data-slot="${slotIndex}"]`);
                
                const faceRect = faceItem.getBoundingClientRect();
                const slotRect = slot.getBoundingClientRect();
                
                const line = document.createElement('div');
                line.className = 'connection-line';
                
                const startX = faceRect.left + faceRect.width / 2;
                const startY = faceRect.bottom;
                const endX = slotRect.left + slotRect.width / 2;
                const endY = slotRect.top;
                
                const length = Math.sqrt(Math.pow(endX - startX, 2) + Math.pow(endY - startY, 2));
                const angle = Math.atan2(endY - startY, endX - startX) * 180 / Math.PI;
                
                line.style.width = length + 'px';
                line.style.left = startX + 'px';
                line.style.top = startY + 'px';
                line.style.transform = `rotate(${angle}deg)`;
                line.style.transformOrigin = '0 50%';
                
                document.body.appendChild(line);
                
                setTimeout(() => {
                    line.classList.add('show');
                }, 100);
                
                this.connectionLines.push(line);
            }

            showVictory() {
                const overlay = document.getElementById('victoryOverlay');
                overlay.classList.add('show');
                
                // Play victory sound
                this.sounds.victory.currentTime = 0;
                this.sounds.victory.play();
                
                // Create particles
                this.createParticles();
            }

            createParticles() {
                for (let i = 0; i < 50; i++) {
                    setTimeout(() => {
                        const particle = document.createElement('div');
                        particle.className = 'particle';
                        particle.style.left = Math.random() * 100 + '%';
                        particle.style.animationDelay = Math.random() * 2 + 's';
                        particle.style.animationDuration = (Math.random() * 3 + 2) + 's';
                        
                        const colors = ['#FFD700', '#FFA500', '#FF6B6B', '#4ECDC4', '#45B7D1'];
                        particle.style.background = colors[Math.floor(Math.random() * colors.length)];
                        
                        document.body.appendChild(particle);
                        
                        setTimeout(() => {
                            particle.remove();
                        }, 5000);
                    }, i * 100);
                }
            }
        }

        // Initialize the game when the page loads
        document.addEventListener('DOMContentLoaded', () => {
            new FootballMatchingGame();
        });
    </script>
</body>
</html>
