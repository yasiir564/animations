<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Tom & Jerry Drawing Animation</title>
    <style>
        :root {
            --paper-color: hsl(40, 20%, 95%);
            --sketch-color: hsl(0, 0%, 70%);
            --outline-color: hsl(0, 0%, 20%);

            --tom-body: hsl(210, 30%, 40%);
            --tom-belly-mouth: hsl(0, 0%, 95%);
            --tom-nose-ears: hsl(350, 60%, 70%);

            --jerry-body: hsl(30, 40%, 40%);
            --jerry-belly-face: hsl(40, 60%, 80%);
            --jerry-nose-ears: hsl(350, 60%, 70%); /* Same pink as Tom */

            --hand-color: hsl(30, 50%, 60%); /* Skin tone */
            --pencil-color: hsl(200, 10%, 30%);
        }

        body {
            margin: 0;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #333;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: white;
        }

        .phone-screen {
            width: 100vw;
            max-width: calc(100vh * 9 / 16); /* Maintain 9:16 aspect ratio based on height */
            height: 100vh;
            max-height: calc(100vw * 16 / 9); /* Maintain 9:16 aspect ratio based on width */
            background-color: var(--paper-color);
            position: relative;
            overflow: hidden;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .drawing-area {
            position: absolute;
            width: 90%;
            height: 90%;
            display: flex;
            justify-content: center;
            align-items: center;
            top: 5%;
            left: 5%;
        }

        /* Drawing layers - initially hidden */
        .drawing-layer {
            position: absolute;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }

        /* Animation classes for revealing */
        .show-layer {
            opacity: 1;
        }

        /* Sketch elements */
        .sketch {
            border: 1px dashed var(--sketch-color);
            position: absolute;
            border-radius: 50%;
            box-sizing: border-box;
        }

        /* Outline elements */
        .outline {
            border: 2px solid var(--outline-color);
            position: absolute;
            border-radius: 50%;
            box-sizing: border-box;
            background-color: transparent; /* Ensure transparent background for outlines */
        }

        /* Color fill elements */
        .color-fill {
            position: absolute;
            border-radius: 50%;
            background-color: transparent;
            box-sizing: border-box;
        }

        /* Specific Tom & Jerry parts styling */

        /* Tom Sketch */
        .tom-sketch-head { width: 40%; height: 35%; top: 20%; left: 30%; border-radius: 50% 50% 30% 30% / 50% 50% 70% 70%; }
        .tom-sketch-body { width: 50%; height: 45%; top: 45%; left: 25%; border-radius: 50% 50% 60% 60% / 60% 60% 40% 40%; }
        .tom-sketch-ear-l { width: 8%; height: 8%; top: 18%; left: 30%; transform: rotate(-20deg); }
        .tom-sketch-ear-r { width: 8%; height: 8%; top: 18%; left: 62%; transform: rotate(20deg); }

        /* Jerry Sketch */
        .jerry-sketch-head { width: 20%; height: 18%; top: 40%; left: 10%; border-radius: 50%; }
        .jerry-sketch-body { width: 25%; height: 20%; top: 50%; left: 15%; border-radius: 50% 50% 40% 40% / 40% 40% 60% 60%; transform: rotate(10deg); }
        .jerry-sketch-ear { width: 5%; height: 5%; top: 38%; left: 9%; border-radius: 50%; }

        /* Tom Outline */
        .tom-outline-head { width: 40%; height: 35%; top: 20%; left: 30%; border-radius: 50% 50% 30% 30% / 50% 50% 70% 70%; }
        .tom-outline-body { width: 50%; height: 45%; top: 45%; left: 25%; border-radius: 50% 50% 60% 60% / 60% 60% 40% 40%; }
        .tom-outline-ear-l { width: 8%; height: 8%; top: 18%; left: 30%; transform: rotate(-20deg); }
        .tom-outline-ear-r { width: 8%; height: 8%; top: 18%; left: 62%; transform: rotate(20deg); }
        .tom-outline-snout { width: 20%; height: 10%; top: 38%; left: 40%; border-radius: 50%; }
        .tom-outline-eye-l, .tom-outline-eye-r { width: 5%; height: 5%; top: 30%; background-color: var(--outline-color); border-radius: 50%; }
        .tom-outline-eye-l { left: 42%; }
        .tom-outline-eye-r { left: 53%; }
        .tom-outline-nose { width: 4%; height: 2%; top: 40%; left: 48%; background-color: var(--outline-color); border-radius: 50%; }

        /* Jerry Outline */
        .jerry-outline-head { width: 20%; height: 18%; top: 40%; left: 10%; border-radius: 50%; }
        .jerry-outline-body { width: 25%; height: 20%; top: 50%; left: 15%; border-radius: 50% 50% 40% 40% / 40% 40% 60% 60%; transform: rotate(10deg); }
        .jerry-outline-ear { width: 5%; height: 5%; top: 38%; left: 9%; border-radius: 50%; }
        .jerry-outline-nose { width: 3%; height: 1.5%; top: 47%; left: 15%; background-color: var(--outline-color); border-radius: 50%; }
        .jerry-outline-eye { width: 3%; height: 3%; top: 43%; left: 13%; background-color: var(--outline-color); border-radius: 50%; }

        /* Tom Colors */
        .tom-color-body { width: 40%; height: 35%; top: 20%; left: 30%; border-radius: 50% 50% 30% 30% / 50% 50% 70% 70%; background-color: var(--tom-body); }
        .tom-color-belly-mouth { width: 25%; height: 15%; top: 35%; left: 37.5%; border-radius: 50%; background-color: var(--tom-belly-mouth); }
        .tom-color-ear-l, .tom-color-ear-r { width: 8%; height: 8%; top: 18%; background-color: var(--tom-body); border-radius: 50%; }
        .tom-color-ear-l { left: 30%; transform: rotate(-20deg); }
        .tom-color-ear-r { left: 62%; transform: rotate(20deg); }
        .tom-color-inner-ear-l, .tom-color-inner-ear-r { width: 4%; height: 4%; top: 20%; background-color: var(--tom-nose-ears); border-radius: 50%; }
        .tom-color-inner-ear-l { left: 32%; transform: rotate(-20deg); }
        .tom-color-inner-ear-r { left: 63%; transform: rotate(20deg); }
        .tom-color-nose { width: 4%; height: 2%; top: 40%; left: 48%; background-color: var(--tom-nose-ears); border-radius: 50%; }

        /* Jerry Colors */
        .jerry-color-body { width: 20%; height: 18%; top: 40%; left: 10%; border-radius: 50%; background-color: var(--jerry-body); }
        .jerry-color-belly-face { width: 12%; height: 10%; top: 45%; left: 13%; border-radius: 50%; background-color: var(--jerry-belly-face); }
        .jerry-color-ear { width: 5%; height: 5%; top: 38%; left: 9%; border-radius: 50%; background-color: var(--jerry-body); }
        .jerry-color-inner-ear { width: 2.5%; height: 2.5%; top: 39%; left: 10%; border-radius: 50%; background-color: var(--jerry-nose-ears); }
        .jerry-color-nose { width: 3%; height: 1.5%; top: 47%; left: 15%; background-color: var(--jerry-nose-ears); border-radius: 50%; }

        /* Drawing Hand */
        .drawing-hand {
            position: absolute;
            width: 80px;
            height: 150px;
            background-color: var(--hand-color);
            border-radius: 60px 20px 20px 60px;
            box-shadow: -5px 5px 10px rgba(0, 0, 0, 0.3);
            transform: rotate(-30deg);
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
            z-index: 100;
        }

        .drawing-hand.active {
            opacity: 1;
        }

        .pencil {
            position: absolute;
            width: 10px;
            height: 80px;
            background-color: var(--pencil-color);
            top: -70px; /* Position above the hand */
            left: 35px;
            transform-origin: bottom center;
            transform: rotate(20deg);
            border-radius: 2px;
        }

        .pencil::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: -2px;
            width: 14px;
            height: 15px;
            background-color: rgb(185, 185, 185); /* Eraser metal part */
            border-radius: 2px;
        }

        .pencil::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: -2px;
            width: 14px;
            height: 10px;
            background-color: rgb(255, 99, 99); /* Eraser */
            border-radius: 2px;
        }

        /* Hand movement keyframes (example, will be updated by JS) */
        @keyframes handMove {
            from { transform: translate(-50%, -50%) rotate(-30deg); }
            to { transform: translate(-50%, -50%) rotate(-30deg); }
        }

        .hand-anim-1 { animation: handMove 1s forwards ease-in-out; }

        /* Text overlay for steps */
        .step-text {
            position: absolute;
            top: 5%;
            width: 100%;
            text-align: center;
            font-size: 1.8vmin; /* Responsive font size */
            font-weight: bold;
            color: var(--outline-color);
            opacity: 0;
            transition: opacity 1s ease-in-out;
            z-index: 101;
        }

        .step-text.show {
            opacity: 1;
        }

        .step-text.hide {
            opacity: 0;
        }

    </style>
</head>
<body>

    <div class="phone-screen">
        <div class="drawing-area">
            <div class="drawing-layer sketch-group" id="sketchLayer">
                <div class="sketch tom-sketch-head"></div>
                <div class="sketch tom-sketch-body"></div>
                <div class="sketch tom-sketch-ear-l"></div>
                <div class="sketch tom-sketch-ear-r"></div>
                <div class="sketch jerry-sketch-head"></div>
                <div class="sketch jerry-sketch-body"></div>
                <div class="sketch jerry-sketch-ear"></div>
            </div>

            <div class="drawing-layer outline-group" id="outlineLayer">
                <div class="outline tom-outline-head"></div>
                <div class="outline tom-outline-body"></div>
                <div class="outline tom-outline-ear-l"></div>
                <div class="outline tom-outline-ear-r"></div>
                <div class="outline tom-outline-snout"></div>
                <div class="outline tom-outline-eye-l"></div>
                <div class="outline tom-outline-eye-r"></div>
                <div class="outline tom-outline-nose"></div>

                <div class="outline jerry-outline-head"></div>
                <div class="outline jerry-outline-body"></div>
                <div class="outline jerry-outline-ear"></div>
                <div class="outline jerry-outline-nose"></div>
                <div class="outline jerry-outline-eye"></div>
            </div>

            <div class="drawing-layer color-group" id="colorLayer">
                <div class="color-fill tom-color-body"></div>
                <div class="color-fill tom-color-belly-mouth"></div>
                <div class="color-fill tom-color-ear-l"></div>
                <div class="color-fill tom-color-ear-r"></div>
                <div class="color-fill tom-color-inner-ear-l"></div>
                <div class="color-fill tom-color-inner-ear-r"></div>
                <div class="color-fill tom-color-nose"></div>

                <div class="color-fill jerry-color-body"></div>
                <div class="color-fill jerry-color-belly-face"></div>
                <div class="color-fill jerry-color-ear"></div>
                <div class="color-fill jerry-color-inner-ear"></div>
                <div class="color-fill jerry-color-nose"></div>
            </div>

            <div class="drawing-layer polish-group" id="polishLayer">
                <div style="position: absolute; width: 60%; height: 10%; top: 80%; left: 20%; background-color: rgba(0,0,0,0.1); border-radius: 50%; filter: blur(5px);"></div>
            </div>

        </div>

        <div class="drawing-hand" id="drawingHand">
            <div class="pencil"></div>
        </div>

        <div class="step-text" id="stepText"></div>
    </div>

    <script>
        const sketchLayer = document.getElementById('sketchLayer');
        const outlineLayer = document.getElementById('outlineLayer');
        const colorLayer = document.getElementById('colorLayer');
        const polishLayer = document.getElementById('polishLayer');
        const drawingHand = document.getElementById('drawingHand');
        const stepText = document.getElementById('stepText');
        const drawingArea = document.querySelector('.drawing-area');

        // Helper to get relative coordinates within drawingArea
        const getRelativeCoords = (targetElement) => {
            const areaRect = drawingArea.getBoundingClientRect();
            const targetRect = targetElement.getBoundingClientRect();
            const x = (targetRect.left + targetRect.width / 2 - areaRect.left) / areaRect.width * 100;
            const y = (targetRect.top + targetRect.height / 2 - areaRect.top) / areaRect.height * 100;
            return { x, y };
        };

        const setHandPosition = (x, y, rotation = -30) => {
            drawingHand.style.left = `${x}%`;
            drawingHand.style.top = `${y}%`;
            drawingHand.style.transform = `translate(-50%, -50%) rotate(${rotation}deg)`;
        };

        const showText = (text, duration = 3000) => {
            stepText.textContent = text;
            stepText.classList.add('show');
            return new Promise(resolve => {
                setTimeout(() => {
                    stepText.classList.remove('show');
                    stepText.classList.add('hide');
                    setTimeout(() => {
                        stepText.classList.remove('hide');
                        resolve();
                    }, 500); // Wait for fade out
                }, duration);
            });
        };

        const animateDrawing = async () => {
            drawingHand.classList.add('active');

            // Initial position of hand (off-screen)
            setHandPosition(-20, 50);
            await new Promise(r => setTimeout(r, 500)); // Brief pause

            // Step 1: Hand enters
            setHandPosition(30, 20, -10); // Move to sketch start
            await showText('Sketching the outline...', 2000);
            await new Promise(r => setTimeout(r, 1000));

            // Step 2: Outline Sketch
            // Simulate drawing by revealing sketch layer
            sketchLayer.classList.add('show-layer');
            await new Promise(r => setTimeout(r, 200)); // Quick reveal

            // Move hand around sketch parts
            setHandPosition(50, 25, -20); // Tom Head
            await new Promise(r => setTimeout(r, 700));
            setHandPosition(40, 55, -40); // Tom Body
            await new Promise(r => setTimeout(r, 700));
            setHandPosition(15, 45, -10); // Jerry Head
            await new Promise(r => setTimeout(r, 700));
            setHandPosition(25, 60, -25); // Jerry Body
            await new Promise(r => setTimeout(r, 700));

            await showText('Adding details and refining outlines...', 2000);
            await new Promise(r => setTimeout(r, 500));

            // Step 3: Details (Outline refinement)
            // Fade out sketch, fade in outline
            sketchLayer.style.transition = 'opacity 0.8s ease-in-out';
            sketchLayer.classList.remove('show-layer');
            outlineLayer.classList.add('show-layer');
            outlineLayer.style.transition = 'opacity 0.8s ease-in-out';
            await new Promise(r => setTimeout(r, 1000)); // Transition time

            // Move hand around details
            setHandPosition(48, 30, -5); // Tom Eyes/Nose
            await new Promise(r => setTimeout(r, 800));
            setHandPosition(18, 45, 10); // Jerry Eyes/Nose
            await new Promise(r => setTimeout(r, 800));
            setHandPosition(70, 75, -50); // General refinement
            await new Promise(r => setTimeout(r, 800));

            await showText('Time to add some color!', 2000);
            await new Promise(r => setTimeout(r, 1000));

            // Step 4: Coloring
            // Fade in color layer
            colorLayer.classList.add('show-layer');
            colorLayer.style.transition = 'opacity 1s ease-in-out';
            await new Promise(r => setTimeout(r, 1000)); // Transition time

            // Simulate coloring motion (move hand over colored areas)
            setHandPosition(50, 40, -15); // Tom body
            await new Promise(r => setTimeout(r, 700));
            setHandPosition(40, 40, -5); // Tom belly/mouth
            await new Promise(r => setTimeout(r, 700));
            setHandPosition(20, 55, 0); // Jerry body
            await new Promise(r => setTimeout(r, 700));
            setHandPosition(15, 50, 5); // Jerry face
            await new Promise(r => setTimeout(r, 700));

            await showText('Almost done... Final touches!', 2000);
            await new Promise(r => setTimeout(r, 1000));

            // Step 5: Final Polish
            // Add subtle polish layer (e.g., shadows)
            polishLayer.classList.add('show-layer');
            polishLayer.style.transition = 'opacity 1s ease-in-out';
            await new Promise(r => setTimeout(r, 1000));

            // Move hand for polish
            setHandPosition(60, 85, -45); // Shadow area
            await new Promise(r => setTimeout(r, 700));

            // Hand exits
            setHandPosition(120, 70, -30); // Move hand off-screen
            drawingHand.classList.remove('active'); // Hide hand
            await new Promise(r => setTimeout(r, 1500)); // Let hand move off

            await showText('Your Tom & Jerry drawing is complete!', 3000);
        };

        // Start animation after a brief delay to ensure page renders
        window.onload = () => {
            setTimeout(animateDrawing, 1000);
        };
    </script>
</body>
</html>
