<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SpongeBob Drawing Animation - YouTube Short</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: #2a2a2a;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            font-family: Arial, sans-serif;
        }
        
        .container {
            width: 405px;
            height: 720px;
            background: #fafafa;
            position: relative;
            overflow: hidden;
            box-shadow: 
                0 0 20px rgba(0,0,0,0.3),
                inset 0 0 50px rgba(0,0,0,0.05);
            /* Paper texture */
            background-image: 
                radial-gradient(circle at 1px 1px, rgba(0,0,0,0.03) 1px, transparent 0);
            background-size: 20px 20px;
        }
        
        canvas {
            width: 100%;
            height: 100%;
            background: transparent;
        }
        
        .pencil {
            position: absolute;
            width: 120px;
            height: 12px;
            z-index: 10;
            opacity: 0;
            transition: opacity 0.5s ease;
            pointer-events: none;
            transform-origin: 95% 50%;
        }
        
        .pencil-body {
            width: 85px;
            height: 12px;
            background: linear-gradient(90deg, 
                #FFD700 0%, #FFF200 30%, #FFE55C 70%, #F4C430 100%);
            border-radius: 6px;
            position: relative;
            box-shadow: 
                0 2px 4px rgba(0,0,0,0.2),
                inset 0 1px 0 rgba(255,255,255,0.3),
                inset 0 -1px 0 rgba(0,0,0,0.1);
        }
        
        .pencil-body::before {
            content: 'No. 2';
            position: absolute;
            left: 10px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 6px;
            font-weight: bold;
            color: #8B4513;
        }
        
        .pencil-wood {
            width: 20px;
            height: 12px;
            background: linear-gradient(90deg, #D2B48C 0%, #8B4513 100%);
            border-radius: 0 6px 6px 0;
            position: absolute;
            right: -20px;
            top: 0;
            box-shadow: inset 2px 0 0 rgba(139,69,19,0.5);
        }
        
        .pencil-tip {
            width: 15px;
            height: 4px;
            background: linear-gradient(90deg, #2C2C2C 0%, #000000 100%);
            position: absolute;
            right: -35px;
            top: 4px;
            clip-path: polygon(0 0, 100% 50%, 0 100%);
            box-shadow: 0 1px 2px rgba(0,0,0,0.5);
        }
        
        .pencil-eraser {
            width: 8px;
            height: 10px;
            background: linear-gradient(90deg, #FF69B4 0%, #FF1493 100%);
            border-radius: 4px;
            position: absolute;
            left: -8px;
            top: 1px;
            box-shadow: 0 1px 2px rgba(0,0,0,0.3);
        }
        
        .pencil-metal {
            width: 12px;
            height: 12px;
            background: linear-gradient(90deg, #C0C0C0 0%, #808080 50%, #C0C0C0 100%);
            border-radius: 6px;
            position: absolute;
            left: -12px;
            top: 0;
            box-shadow: 
                inset 0 1px 0 rgba(255,255,255,0.5),
                inset 0 -1px 0 rgba(0,0,0,0.2);
        }
        
        .drawing-dust {
            position: absolute;
            width: 3px;
            height: 3px;
            background: #ddd;
            border-radius: 50%;
            opacity: 0;
            animation: dustFall 0.8s ease-out;
        }
        
        @keyframes dustFall {
            0% { opacity: 0.7; transform: translateY(0) scale(1); }
            100% { opacity: 0; transform: translateY(20px) scale(0.3); }
        }
    </style>
</head>
<body>
    <div class="container">
        <canvas id="canvas" width="405" height="720"></canvas>
        <div class="pencil" id="pencil">
            <div class="pencil-eraser"></div>
            <div class="pencil-metal"></div>
            <div class="pencil-body"></div>
            <div class="pencil-wood"></div>
            <div class="pencil-tip"></div>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const pencil = document.getElementById('pencil');
        
        let startTime = Date.now();
        let currentPath = [];
        let pathIndex = 0;
        
        // More accurate SpongeBob proportions and features
        const spongebobData = {
            // Main body - more square and porous looking
            body: [
                {x: 140, y: 180}, {x: 200, y: 175}, {x: 260, y: 180}, {x: 270, y: 200},
                {x: 275, y: 240}, {x: 280, y: 280}, {x: 275, y: 320}, {x: 280, y: 360},
                {x: 275, y: 400}, {x: 280, y: 440}, {x: 275, y: 480}, {x: 270, y: 520},
                {x: 260, y: 550}, {x: 200, y: 555}, {x: 140, y: 550}, {x: 130, y: 520},
                {x: 125, y: 480}, {x: 130, y: 440}, {x: 125, y: 400}, {x: 130, y: 360},
                {x: 125, y: 320}, {x: 130, y: 280}, {x: 125, y: 240}, {x: 130, y: 200},
                {x: 140, y: 180}
            ],
            
            // Large round eyes
            leftEye: [
                {x: 140, y: 250}, {x: 165, y: 235}, {x: 185, y: 250}, {x: 180, y: 275},
                {x: 165, y: 285}, {x: 145, y: 275}, {x: 140, y: 250}
            ],
            rightEye: [
                {x: 220, y: 245}, {x: 245, y: 230}, {x: 265, y: 245}, {x: 260, y: 270},
                {x: 245, y: 280}, {x: 225, y: 270}, {x: 220, y: 245}
            ],
            
            // Prominent nose
            nose: [
                {x: 195, y: 295}, {x: 205, y: 290}, {x: 210, y: 300}, {x: 205, y: 315},
                {x: 200, y: 325}, {x: 195, y: 315}, {x: 190, y: 300}, {x: 195, y: 295}
            ],
            
            // Big smile
            mouth: [
                {x: 165, y: 365}, {x: 180, y: 375}, {x: 200, y: 380}, {x: 220, y: 375}, {x: 235, y: 365}
            ],
            
            // Stick arms
            leftArm: [
                {x: 140, y: 320}, {x: 110, y: 330}, {x: 85, y: 345}, {x: 65, y: 365}, {x: 55, y: 385}
            ],
            rightArm: [
                {x: 260, y: 315}, {x: 290, y: 325}, {x: 315, y: 340}, {x: 335, y: 360}, {x: 345, y: 380}
            ],
            
            // Stick legs
            leftLeg: [
                {x: 165, y: 555}, {x: 165, y: 600}, {x: 160, y: 640}, {x: 150, y: 670}, {x: 135, y: 690}
            ],
            rightLeg: [
                {x: 235, y: 555}, {x: 235, y: 600}, {x: 240, y: 640}, {x: 250, y: 670}, {x: 265, y: 690}
            ],
            
            // SpongeBob's pants
            pants: [
                {x: 140, y: 480}, {x: 260, y: 480}, {x: 260, y: 555}, {x: 140, y: 555}, {x: 140, y: 480}
            ]
        };
        
        const colors = {
            yellow: '#FFFF00',
            brown: '#8B4513',
            white: '#FFFFFF',
            black: '#000000',
            red: '#DC143C',
            blue: '#4169E1',
            darkBlue: '#000080',
            pink: '#FFB6C1'
        };
        
        function createDrawingDust(x, y) {
            const dust = document.createElement('div');
            dust.className = 'drawing-dust';
            dust.style.left = (x - 1) + 'px';
            dust.style.top = (y - 1) + 'px';
            document.querySelector('.container').appendChild(dust);
            
            setTimeout(() => dust.remove(), 800);
        }
        
        function drawPath(points, progress, strokeStyle = '#333', lineWidth = 2) {
            if (points.length < 2 || progress <= 0) return;
            
            ctx.strokeStyle = strokeStyle;
            ctx.lineWidth = lineWidth;
            ctx.lineCap = 'round';
            ctx.lineJoin = 'round';
            
            const totalLength = points.length - 1;
            const currentProgress = Math.min(progress * totalLength, totalLength);
            const wholeSegments = Math.floor(currentProgress);
            const partialSegment = currentProgress - wholeSegments;
            
            ctx.beginPath();
            ctx.moveTo(points[0].x, points[0].y);
            
            // Draw complete segments
            for (let i = 1; i <= wholeSegments; i++) {
                ctx.lineTo(points[i].x, points[i].y);
            }
            
            // Draw partial segment
            if (wholeSegments < totalLength && partialSegment > 0) {
                const start = points[wholeSegments];
                const end = points[wholeSegments + 1];
                const currentX = start.x + (end.x - start.x) * partialSegment;
                const currentY = start.y + (end.y - start.y) * partialSegment;
                
                ctx.lineTo(currentX, currentY);
                
                // Update pencil position and rotation
                const angle = Math.atan2(end.y - start.y, end.x - start.x);
                pencil.style.left = (currentX - 60) + 'px';
                pencil.style.top = (currentY - 6) + 'px';
                pencil.style.transform = `rotate(${angle}rad)`;
                
                // Add drawing dust effect
                if (Math.random() < 0.3) {
                    createDrawingDust(currentX, currentY);
                }
            }
            
            ctx.stroke();
        }
        
        function fillArea(points, color) {
            if (points.length < 3) return;
            
            ctx.fillStyle = color;
            ctx.beginPath();
            ctx.moveTo(points[0].x, points[0].y);
            
            for (let i = 1; i < points.length; i++) {
                ctx.lineTo(points[i].x, points[i].y);
            }
            
            ctx.closePath();
            ctx.fill();
        }
        
        function drawSpongeBobDetails() {
            // Eyes - white background with black outline
            ctx.fillStyle = colors.white;
            ctx.beginPath();
            ctx.arc(162, 260, 22, 0, 2 * Math.PI);
            ctx.fill();
            ctx.beginPath();
            ctx.arc(242, 257, 22, 0, 2 * Math.PI);
            ctx.fill();
            
            // Eye outlines
            ctx.strokeStyle = colors.black;
            ctx.lineWidth = 3;
            ctx.beginPath();
            ctx.arc(162, 260, 22, 0, 2 * Math.PI);
            ctx.stroke();
            ctx.beginPath();
            ctx.arc(242, 257, 22, 0, 2 * Math.PI);
            ctx.stroke();
            
            // Pupils
            ctx.fillStyle = colors.black;
            ctx.beginPath();
            ctx.arc(170, 268, 6, 0, 2 * Math.PI);
            ctx.fill();
            ctx.beginPath();
            ctx.arc(235, 265, 6, 0, 2 * Math.PI);
            ctx.fill();
            
            // Eye shine
            ctx.fillStyle = colors.white;
            ctx.beginPath();
            ctx.arc(173, 265, 2, 0, 2 * Math.PI);
            ctx.fill();
            ctx.beginPath();
            ctx.arc(237, 262, 2, 0, 2 * Math.PI);
            ctx.fill();
            
            // Nose
            ctx.fillStyle = colors.yellow;
            ctx.beginPath();
            ctx.ellipse(200, 308, 10, 18, 0, 0, 2 * Math.PI);
            ctx.fill();
            ctx.strokeStyle = colors.black;
            ctx.lineWidth = 2;
            ctx.stroke();
            
            // Nostrils
            ctx.fillStyle = colors.black;
            ctx.beginPath();
            ctx.arc(198, 305, 1.5, 0, 2 * Math.PI);
            ctx.fill();
            ctx.beginPath();
            ctx.arc(202, 305, 1.5, 0, 2 * Math.PI);
            ctx.fill();
            
            // Mouth
            ctx.strokeStyle = colors.black;
            ctx.lineWidth = 4;
            ctx.beginPath();
            ctx.arc(200, 365, 30, 0.1, Math.PI - 0.1);
            ctx.stroke();
            
            // Teeth
            ctx.fillStyle = colors.white;
            ctx.strokeStyle = colors.black;
            ctx.lineWidth = 1;
            for (let i = 0; i < 2; i++) {
                const x = 190 + i * 20;
                ctx.fillRect(x, 380, 10, 15);
                ctx.strokeRect(x, 380, 10, 15);
            }
            
            // Pants
            ctx.fillStyle = colors.brown;
            fillArea(spongebobData.pants, colors.brown);
            
            // Belt
            ctx.fillStyle = colors.black;
            ctx.fillRect(140, 480, 120, 8);
            
            // Belt buckle
            ctx.fillStyle = colors.yellow;
            ctx.fillRect(190, 475, 20, 18);
            ctx.strokeStyle = colors.black;
            ctx.lineWidth = 2;
            ctx.strokeRect(190, 475, 20, 18);
            
            // SpongeBob holes (pores)
            ctx.fillStyle = colors.brown;
            const holes = [
                {x: 155, y: 220, r: 4}, {x: 185, y: 210, r: 3}, {x: 225, y: 215, r: 4},
                {x: 245, y: 235, r: 3}, {x: 170, y: 340, r: 5}, {x: 230, y: 335, r: 4},
                {x: 160, y: 390, r: 3}, {x: 200, y: 420, r: 4}, {x: 240, y: 415, r: 3},
                {x: 175, y: 450, r: 4}, {x: 220, y: 445, r: 3}, {x: 155, y: 510, r: 3},
                {x: 245, y: 505, r: 4}
            ];
            
            holes.forEach(hole => {
                ctx.beginPath();
                ctx.arc(hole.x, hole.y, hole.r, 0, 2 * Math.PI);
                ctx.fill();
            });
            
            // Shoes
            ctx.fillStyle = colors.black;
            ctx.beginPath();
            ctx.ellipse(135, 695, 25, 12, 0, 0, 2 * Math.PI);
            ctx.fill();
            ctx.beginPath();
            ctx.ellipse(265, 695, 25, 12, 0, 0, 2 * Math.PI);
            ctx.fill();
            
            // Shoe laces
            ctx.strokeStyle = colors.white;
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(125, 690);
            ctx.lineTo(145, 690);
            ctx.stroke();
            ctx.beginPath();
            ctx.moveTo(255, 690);
            ctx.lineTo(275, 690);
            ctx.stroke();
        }
        
        function animate() {
            const elapsed = Date.now() - startTime;
            const totalDuration = 20000; // 20 seconds
            
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Phase 1: Rough Sketch (0-7 seconds)
            if (elapsed < 7000) {
                pencil.style.opacity = '1';
                const progress = elapsed / 7000;
                
                if (progress < 0.4) {
                    const bodyProgress = Math.min(progress * 2.5, 1);
                    drawPath(spongebobData.body, bodyProgress, '#666', 1.5);
                }
                if (progress >= 0.2 && progress < 0.6) {
                    const eyeProgress = Math.min((progress - 0.2) * 2.5, 1);
                    drawPath(spongebobData.leftEye, eyeProgress, '#666', 1.5);
                    if (eyeProgress > 0.5) {
                        drawPath(spongebobData.rightEye, (eyeProgress - 0.5) * 2, '#666', 1.5);
                    }
                }
                if (progress >= 0.4 && progress < 0.7) {
                    const faceProgress = Math.min((progress - 0.4) * 3, 1);
                    drawPath(spongebobData.nose, faceProgress, '#666', 1.5);
                    if (faceProgress > 0.3) {
                        drawPath(spongebobData.mouth, (faceProgress - 0.3) * 1.4, '#666', 1.5);
                    }
                }
                if (progress >= 0.6) {
                    const limbProgress = Math.min((progress - 0.6) * 2.5, 1);
                    drawPath(spongebobData.leftArm, limbProgress, '#666', 1.5);
                    drawPath(spongebobData.rightArm, limbProgress, '#666', 1.5);
                    if (limbProgress > 0.4) {
                        drawPath(spongebobData.leftLeg, (limbProgress - 0.4) * 1.7, '#666', 1.5);
                        drawPath(spongebobData.rightLeg, (limbProgress - 0.4) * 1.7, '#666', 1.5);
                    }
                }
            }
            // Phase 2: Clean Inking (7-13 seconds)
            else if (elapsed < 13000) {
                pencil.style.opacity = '1';
                const progress = (elapsed - 7000) / 6000;
                
                // Redraw everything with clean black lines
                drawPath(spongebobData.body, 1, colors.black, 3);
                drawPath(spongebobData.leftEye, 1, colors.black, 2.5);
                drawPath(spongebobData.rightEye, 1, colors.black, 2.5);
                drawPath(spongebobData.nose, 1, colors.black, 2);
                drawPath(spongebobData.mouth, 1, colors.black, 3);
                drawPath(spongebobData.leftArm, 1, colors.black, 2.5);
                drawPath(spongebobData.rightArm, 1, colors.black, 2.5);
                drawPath(spongebobData.leftLeg, 1, colors.black, 2.5);
                drawPath(spongebobData.rightLeg, 1, colors.black, 2.5);
                drawPath(spongebobData.pants, 1, colors.black, 2.5);
                
                // Animate pencil cleaning up lines
                const animProgress = progress * 8;
                const currentSection = Math.floor(animProgress);
                const sections = [
                    spongebobData.body, spongebobData.leftEye, spongebobData.rightEye,
                    spongebobData.nose, spongebobData.mouth, spongebobData.leftArm,
                    spongebobData.rightArm, spongebobData.pants
                ];
                
                if (currentSection < sections.length) {
                    const sectionProgress = animProgress - currentSection;
                    const section = sections[currentSection];
                    if (section && section.length > 0) {
                        const point = section[Math.floor(sectionProgress * (section.length - 1))];
                        if (point) {
                            pencil.style.left = (point.x - 60) + 'px';
                            pencil.style.top = (point.y - 6) + 'px';
                        }
                    }
                }
            }
            // Phase 3: Coloring (13-20 seconds)
            else if (elapsed < 20000) {
                pencil.style.opacity = '0';
                
                // Fill body with yellow
                fillArea(spongebobData.body, colors.yellow);
                
                // Add all details with smooth transition
                drawSpongeBobDetails();
                
                // Final clean outlines
                drawPath(spongebobData.body, 1, colors.black, 3);
                drawPath(spongebobData.leftArm, 1, colors.black, 2.5);
                drawPath(spongebobData.rightArm, 1, colors.black, 2.5);
                drawPath(spongebobData.leftLeg, 1, colors.black, 2.5);
                drawPath(spongebobData.rightLeg, 1, colors.black, 2.5);
            }
            // Loop
            else {
                startTime = Date.now();
            }
            
            requestAnimationFrame(animate);
        }
        
        // Start animation
        animate();
    </script>
</body>
</html>
