<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Drawing SpongeBob - Realistic Hand-Drawn Animation</title>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Bebas Neue', cursive;
            background: #f9f5ec;
            overflow: hidden;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .container {
            width: 100vw;
            height: 100vh;
            max-width: 563px;
            max-height: 1000px;
            position: relative;
            background: #f9f5ec;
            aspect-ratio: 9/16;
        }
        
        #backgroundCanvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }
        
        #spongebob-svg {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 300px;
            height: 350px;
            z-index: 2;
        }
        
        .intro-text {
            position: absolute;
            top: 20%;
            left: 50%;
            transform: translateX(-50%);
            font-size: 3rem;
            font-weight: bold;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
            z-index: 10;
            opacity: 0;
            animation: fadeInOut 3s ease-in-out;
        }
        
        .final-text {
            position: absolute;
            bottom: 15%;
            left: 50%;
            transform: translateX(-50%);
            font-size: 2rem;
            font-weight: bold;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
            z-index: 10;
            opacity: 0;
            text-align: center;
        }
        
        .pencil {
            position: absolute;
            width: 60px;
            height: 15px;
            z-index: 5;
            opacity: 0;
            transition: all 0.1s ease;
        }
        
        .glow-effect {
            filter: drop-shadow(0 0 10px rgba(255, 255, 0, 0.5));
            animation: glow 2s ease-in-out infinite alternate;
        }
        
        @keyframes fadeInOut {
            0% { opacity: 0; }
            30% { opacity: 1; }
            70% { opacity: 1; }
            100% { opacity: 0; }
        }
        
        @keyframes glow {
            from { filter: drop-shadow(0 0 10px rgba(255, 255, 0, 0.5)); }
            to { filter: drop-shadow(0 0 20px rgba(255, 255, 0, 0.8)); }
        }
        
        .bounce {
            animation: bounce 0.5s ease-in-out;
        }
        
        @keyframes bounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        .zoom-in {
            animation: zoomIn 3s ease-in-out;
        }
        
        @keyframes zoomIn {
            0% { transform: translate(-50%, -50%) scale(1); }
            100% { transform: translate(-50%, -50%) scale(1.1); }
        }
    </style>
</head>
<body>
    <div class="container">
        <canvas id="backgroundCanvas"></canvas>
        
        <div class="intro-text">DRAWING SPONGEBOB...</div>
        
        <svg id="spongebob-svg" viewBox="0 0 300 350">
            <!-- SpongeBob Body -->
            <path id="body" d="M75 80 Q75 60 95 60 L205 60 Q225 60 225 80 L225 200 Q225 220 205 220 L95 220 Q75 220 75 200 Z" 
                  fill="none" stroke="#777" stroke-width="3"/>
            
            <!-- SpongeBob Eyes -->
            <circle id="left-eye" cx="120" cy="110" r="25" fill="none" stroke="#777" stroke-width="3"/>
            <circle id="right-eye" cx="180" cy="110" r="25" fill="none" stroke="#777" stroke-width="3"/>
            <circle id="left-pupil" cx="120" cy="110" r="8" fill="none" stroke="#777" stroke-width="2"/>
            <circle id="right-pupil" cx="180" cy="110" r="8" fill="none" stroke="#777" stroke-width="2"/>
            
            <!-- SpongeBob Nose -->
            <path id="nose" d="M145 125 Q150 130 155 125" fill="none" stroke="#777" stroke-width="2"/>
            
            <!-- SpongeBob Mouth -->
            <path id="mouth" d="M130 150 Q150 170 170 150" fill="none" stroke="#777" stroke-width="3"/>
            
            <!-- SpongeBob Pants -->
            <rect id="pants" x="85" y="180" width="130" height="60" fill="none" stroke="#777" stroke-width="3"/>
            
            <!-- SpongeBob Tie -->
            <path id="tie" d="M140 170 L160 170 L155 190 L145 190 Z" fill="none" stroke="#777" stroke-width="2"/>
            
            <!-- SpongeBob Arms -->
            <path id="left-arm" d="M75 140 Q50 135 45 150 Q50 165 75 160" fill="none" stroke="#777" stroke-width="3"/>
            <path id="right-arm" d="M225 140 Q250 135 255 150 Q250 165 225 160" fill="none" stroke="#777" stroke-width="3"/>
            
            <!-- SpongeBob Legs -->
            <path id="left-leg" d="M110 240 L110 290 Q110 300 120 300 L130 300" fill="none" stroke="#777" stroke-width="3"/>
            <path id="right-leg" d="M190 240 L190 290 Q190 300 180 300 L170 300" fill="none" stroke="#777" stroke-width="3"/>
            
            <!-- Sponge holes -->
            <circle id="hole1" cx="100" cy="90" r="4" fill="none" stroke="#777" stroke-width="2"/>
            <circle id="hole2" cx="130" cy="85" r="3" fill="none" stroke="#777" stroke-width="2"/>
            <circle id="hole3" cx="170" cy="90" r="4" fill="none" stroke="#777" stroke-width="2"/>
            <circle id="hole4" cx="200" cy="85" r="3" fill="none" stroke="#777" stroke-width="2"/>
            <circle id="hole5" cx="105" cy="160" r="3" fill="none" stroke="#777" stroke-width="2"/>
            <circle id="hole6" cx="195" cy="165" r="4" fill="none" stroke="#777" stroke-width="2"/>
        </svg>
        
        <svg class="pencil" id="pencil">
            <rect x="0" y="5" width="45" height="5" fill="#f4d03f"/>
            <polygon points="45,5 60,7.5 45,10" fill="#8b4513"/>
            <circle cx="52" cy="7.5" r="1" fill="#333"/>
        </svg>
        
        <div class="final-text">LIKE IF YOU LOVE SPONGEBOB! üçç</div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.2/p5.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vivus@latest/dist/vivus.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/roughjs@4.3.1/bundled/rough.js"></script>
    
    <script>
        let canvas, ctx;
        let backgroundSketch;
        let pencil;
        let currentPhase = 'intro';
        let phaseStartTime = 0;
        
        // Initialize background texture with p5.js
        function setup() {
            const container = document.querySelector('.container');
            canvas = createCanvas(container.offsetWidth, container.offsetHeight);
            canvas.parent('backgroundCanvas');
            
            // Create paper texture
            background(249, 245, 236);
            loadPixels();
            
            for (let x = 0; x < width; x += 2) {
                for (let y = 0; y < height; y += 2) {
                    let brightness = random(240, 255);
                    let alpha = random(10, 30);
                    fill(brightness, brightness, brightness, alpha);
                    noStroke();
                    circle(x + random(-1, 1), y + random(-1, 1), random(0.5, 2));
                }
            }
            
            noLoop();
        }
        
        function draw() {
            // p5.js will handle the background texture
        }
        
        // Animation Timeline
        let timeline = {
            intro: { start: 0, end: 3000 },
            sketch: { start: 3000, end: 10000 },
            inking: { start: 10000, end: 18000 },
            coloring: { start: 18000, end: 27000 },
            final: { start: 27000, end: 30000 }
        };
        
        let vivusSketch, vivusInk;
        let isInitialized = false;
        
        function initializeAnimation() {
            if (isInitialized) return;
            isInitialized = true;
            
            pencil = document.getElementById('pencil');
            
            // Create rough sketch paths
            setTimeout(() => {
                createRoughSketch();
                startSketchPhase();
            }, 3000);
            
            // Start inking phase
            setTimeout(() => {
                startInkingPhase();
            }, 10000);
            
            // Start coloring phase
            setTimeout(() => {
                startColoringPhase();
            }, 18000);
            
            // Final reveal
            setTimeout(() => {
                startFinalReveal();
            }, 27000);
        }
        
        function createRoughSketch() {
            const svg = document.getElementById('spongebob-svg');
            const paths = svg.querySelectorAll('path, circle, rect');
            
            // Apply rough.js styling to make paths look hand-drawn
            const rough = roughjs.svg(svg);
            
            paths.forEach(path => {
                if (path.tagName === 'path') {
                    const d = path.getAttribute('d');
                    if (d) {
                        const roughPath = rough.path(d, {
                            stroke: '#777',
                            strokeWidth: 3,
                            roughness: 2,
                            bowing: 1
                        });
                        path.parentNode.replaceChild(roughPath, path);
                    }
                }
            });
        }
        
        function startSketchPhase() {
            pencil.style.opacity = '1';
            
            vivusSketch = new Vivus('spongebob-svg', {
                type: 'delayed',
                duration: 140,
                start: 'manual',
                animTimingFunction: Vivus.EASE_OUT
            }, () => {
                pencil.style.opacity = '0';
            });
            
            vivusSketch.play();
            animatePencil();
        }
        
        function startInkingPhase() {
            // Change stroke color to darker ink
            const paths = document.querySelectorAll('#spongebob-svg path, #spongebob-svg circle, #spongebob-svg rect');
            paths.forEach(path => {
                path.style.stroke = '#111';
                path.style.strokeWidth = '2';
            });
            
            pencil.style.opacity = '1';
            
            vivusInk = new Vivus('spongebob-svg', {
                type: 'sync',
                duration: 80,
                start: 'manual'
            }, () => {
                pencil.style.opacity = '0';
                pencil.classList.add('bounce');
            });
            
            vivusInk.play();
            animatePencil();
        }
        
        function startColoringPhase() {
            const svg = document.getElementById('spongebob-svg');
            
            // Color SpongeBob parts with animation
            setTimeout(() => fillElement('body', '#FFD700'), 500);
            setTimeout(() => fillElement('left-eye', '#FFFFFF'), 1000);
            setTimeout(() => fillElement('right-eye', '#FFFFFF'), 1200);
            setTimeout(() => fillElement('left-pupil', '#000080'), 1400);
            setTimeout(() => fillElement('right-pupil', '#000080'), 1600);
            setTimeout(() => fillElement('pants', '#8B4513'), 2000);
            setTimeout(() => fillElement('tie', '#FF0000'), 2500);
            setTimeout(() => fillElement('left-arm', '#FFD700'), 3000);
            setTimeout(() => fillElement('right-arm', '#FFD700'), 3200);
            setTimeout(() => fillElement('left-leg', '#FFD700'), 3500);
            setTimeout(() => fillElement('right-leg', '#FFD700'), 3700);
        }
        
        function fillElement(id, color) {
            const element = document.getElementById(id);
            if (element) {
                element.style.fill = color;
                element.style.transition = 'fill 0.5s ease';
            }
        }
        
        function startFinalReveal() {
            const svg = document.getElementById('spongebob-svg');
            const finalText = document.querySelector('.final-text');
            
            svg.classList.add('glow-effect', 'zoom-in');
            finalText.style.opacity = '1';
            finalText.style.animation = 'fadeInOut 3s ease-in-out';
        }
        
        function animatePencil() {
            const svg = document.getElementById('spongebob-svg');
            const svgRect = svg.getBoundingClientRect();
            const containerRect = document.querySelector('.container').getBoundingClientRect();
            
            // Simple pencil animation following the drawing
            let angle = 0;
            const radius = 50;
            const centerX = svgRect.left + svgRect.width / 2 - containerRect.left;
            const centerY = svgRect.top + svgRect.height / 2 - containerRect.top;
            
            function movePencil() {
                if (pencil.style.opacity === '1') {
                    const x = centerX + Math.cos(angle) * radius;
                    const y = centerY + Math.sin(angle) * radius;
                    
                    pencil.style.left = x + 'px';
                    pencil.style.top = y + 'px';
                    pencil.style.transform = `rotate(${angle * 180 / Math.PI + 45}deg)`;
                    
                    angle += 0.1;
                    requestAnimationFrame(movePencil);
                }
            }
            
            movePencil();
        }
        
        // Start the animation
        document.addEventListener('DOMContentLoaded', () => {
            setTimeout(initializeAnimation, 100);
        });
        
        // Handle window resize
        function windowResized() {
            const container = document.querySelector('.container');
            resizeCanvas(container.offsetWidth, container.offsetHeight);
        }
    </script>
</body>
</html>
