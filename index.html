<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Drawing Patrick â€“ Hand-Drawn on Notebook Paper</title>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Anton&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/vivus@latest/dist/vivus.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/roughjs@4.3.1/bundled/rough.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.2/p5.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Bebas Neue', cursive;
            background: #f0f0f0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow: hidden;
        }

        .container {
            width: 400px;
            height: 711px; /* 9:16 aspect ratio */
            position: relative;
            background: #fdfaf5;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            overflow: hidden;
        }

        #notebook-canvas {
            position: absolute;
            top: 0;
            left: 0;
            z-index: 1;
        }

        #drawing-svg {
            position: absolute;
            top: 0;
            left: 0;
            z-index: 2;
            width: 100%;
            height: 100%;
        }

        .title {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 24px;
            color: #333;
            z-index: 10;
            text-shadow: 1px 1px 2px rgba(255,255,255,0.8);
            letter-spacing: 2px;
        }

        .phase-indicator {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 18px;
            color: #666;
            z-index: 10;
            background: rgba(255,255,255,0.8);
            padding: 8px 16px;
            border-radius: 20px;
            transition: all 0.3s ease;
        }

        .pencil {
            position: absolute;
            width: 120px;
            height: 20px;
            z-index: 5;
            opacity: 0;
            transition: all 0.5s ease;
        }

        .pencil.active {
            opacity: 1;
        }

        .color-fill {
            opacity: 0;
            transition: opacity 1s ease;
        }

        .color-fill.active {
            opacity: 1;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="title">DRAWING PATRICK</div>
        <canvas id="notebook-canvas"></canvas>
        
        <svg id="drawing-svg" viewBox="0 0 400 711">
            <!-- Pencil Tool -->
            <g class="pencil" id="pencil-tool">
                <rect x="0" y="0" width="100" height="8" fill="#ffd700" stroke="#ddd" stroke-width="1"/>
                <rect x="95" y="2" width="20" height="4" fill="#ff6b6b"/>
                <circle cx="105" cy="4" r="2" fill="#333"/>
            </g>

            <!-- Patrick's Body Outline -->
            <g id="patrick-sketch" opacity="0">
                <path id="body-outline" d="M200 150 Q170 120 150 160 Q140 200 160 250 Q180 320 200 350 Q220 320 240 250 Q260 200 250 160 Q230 120 200 150 Z" 
                      fill="none" stroke="#888" stroke-width="2" stroke-dasharray="3,2"/>
                
                <!-- Arms -->
                <path id="left-arm" d="M160 200 Q120 190 100 220 Q90 240 110 250 Q130 240 160 230" 
                      fill="none" stroke="#888" stroke-width="2" stroke-dasharray="3,2"/>
                <path id="right-arm" d="M240 200 Q280 190 300 220 Q310 240 290 250 Q270 240 240 230" 
                      fill="none" stroke="#888" stroke-width="2" stroke-dasharray="3,2"/>
                
                <!-- Legs -->
                <path id="left-leg" d="M180 350 Q170 400 160 450 Q150 480 170 490 Q190 480 180 450" 
                      fill="none" stroke="#888" stroke-width="2" stroke-dasharray="3,2"/>
                <path id="right-leg" d="M220 350 Q230 400 240 450 Q250 480 230 490 Q210 480 220 450" 
                      fill="none" stroke="#888" stroke-width="2" stroke-dasharray="3,2"/>
                
                <!-- Eyes -->
                <circle id="left-eye" cx="185" cy="180" r="15" fill="none" stroke="#888" stroke-width="2" stroke-dasharray="2,1"/>
                <circle id="right-eye" cx="215" cy="180" r="15" fill="none" stroke="#888" stroke-width="2" stroke-dasharray="2,1"/>
                
                <!-- Mouth -->
                <path id="mouth" d="M190 210 Q200 220 210 210" fill="none" stroke="#888" stroke-width="2" stroke-dasharray="2,1"/>
                
                <!-- Shorts -->
                <path id="shorts" d="M170 280 Q200 270 230 280 L235 320 Q200 330 165 320 Z" 
                      fill="none" stroke="#888" stroke-width="2" stroke-dasharray="3,2"/>
            </g>

            <!-- Ink Lines -->
            <g id="patrick-ink" opacity="0">
                <path id="body-ink" d="M200 150 Q170 120 150 160 Q140 200 160 250 Q180 320 200 350 Q220 320 240 250 Q260 200 250 160 Q230 120 200 150 Z" 
                      fill="none" stroke="#111" stroke-width="3"/>
                
                <path id="left-arm-ink" d="M160 200 Q120 190 100 220 Q90 240 110 250 Q130 240 160 230" 
                      fill="none" stroke="#111" stroke-width="3"/>
                <path id="right-arm-ink" d="M240 200 Q280 190 300 220 Q310 240 290 250 Q270 240 240 230" 
                      fill="none" stroke="#111" stroke-width="3"/>
                
                <path id="left-leg-ink" d="M180 350 Q170 400 160 450 Q150 480 170 490 Q190 480 180 450" 
                      fill="none" stroke="#111" stroke-width="3"/>
                <path id="right-leg-ink" d="M220 350 Q230 400 240 450 Q250 480 230 490 Q210 480 220 450" 
                      fill="none" stroke="#111" stroke-width="3"/>
                
                <circle id="left-eye-ink" cx="185" cy="180" r="15" fill="none" stroke="#111" stroke-width="3"/>
                <circle id="right-eye-ink" cx="215" cy="180" r="15" fill="none" stroke="#111" stroke-width="3"/>
                
                <path id="mouth-ink" d="M190 210 Q200 220 210 210" fill="none" stroke="#111" stroke-width="3"/>
                
                <path id="shorts-ink" d="M170 280 Q200 270 230 280 L235 320 Q200 330 165 320 Z" 
                      fill="none" stroke="#111" stroke-width="3"/>
            </g>

            <!-- Color Fills -->
            <g id="patrick-colors" class="color-fill">
                <!-- Body Fill -->
                <path d="M200 150 Q170 120 150 160 Q140 200 160 250 Q180 320 200 350 Q220 320 240 250 Q260 200 250 160 Q230 120 200 150 Z" 
                      fill="#ffcccc"/>
                
                <!-- Arms Fill -->
                <path d="M160 200 Q120 190 100 220 Q90 240 110 250 Q130 240 160 230" fill="#ffcccc"/>
                <path d="M240 200 Q280 190 300 220 Q310 240 290 250 Q270 240 240 230" fill="#ffcccc"/>
                
                <!-- Legs Fill -->
                <path d="M180 350 Q170 400 160 450 Q150 480 170 490 Q190 480 180 450" fill="#ffcccc"/>
                <path d="M220 350 Q230 400 240 450 Q250 480 230 490 Q210 480 220 450" fill="#ffcccc"/>
                
                <!-- Eyes Fill -->
                <circle cx="185" cy="180" r="15" fill="white"/>
                <circle cx="215" cy="180" r="15" fill="white"/>
                <circle cx="185" cy="180" r="8" fill="#111"/>
                <circle cx="215" cy="180" r="8" fill="#111"/>
                
                <!-- Shorts Fill -->
                <path d="M170 280 Q200 270 230 280 L235 320 Q200 330 165 320 Z" fill="#8bc34a"/>
                
                <!-- Flower Pattern on Shorts -->
                <circle cx="190" cy="295" r="4" fill="#9c27b0"/>
                <circle cx="210" cy="300" r="4" fill="#9c27b0"/>
                <circle cx="185" cy="310" r="3" fill="#9c27b0"/>
                <circle cx="215" cy="308" r="3" fill="#9c27b0"/>
            </g>
        </svg>

        <div class="phase-indicator" id="phase-text">Phase 1: Sketching</div>
    </div>

    <script>
        // p5.js sketch for notebook paper background
        function setup() {
            let canvas = createCanvas(400, 711);
            canvas.parent('notebook-canvas');
            noLoop();
        }

        function draw() {
            // Paper background
            background('#fdfaf5');
            
            // Add paper texture/grain
            for (let i = 0; i < 2000; i++) {
                let x = random(width);
                let y = random(height);
                stroke(random(220, 240));
                strokeWeight(0.5);
                point(x, y);
            }
            
            // Red margin line
            stroke('#ff6b6b');
            strokeWeight(1);
            line(50, 0, 50, height);
            
            // Blue horizontal lines
            stroke('#4a90e2');
            strokeWeight(0.8);
            for (let y = 80; y < height - 50; y += 25) {
                line(0, y, width, y);
            }
            
            // Add subtle shadows at edges
            for (let i = 0; i < 20; i++) {
                stroke(red('#fdfaf5') - i, green('#fdfaf5') - i, blue('#fdfaf5') - i, 20);
                strokeWeight(1);
                line(i, 0, i, height);
                line(width - i, 0, width - i, height);
            }
        }

        // Animation controller
        class DrawingAnimation {
            constructor() {
                this.currentPhase = 0;
                this.phases = ['Sketching', 'Inking', 'Coloring'];
                this.phaseText = document.getElementById('phase-text');
                this.pencil = document.getElementById('pencil-tool');
                this.sketchGroup = document.getElementById('patrick-sketch');
                this.inkGroup = document.getElementById('patrick-ink');
                this.colorGroup = document.getElementById('patrick-colors');
            }

            start() {
                setTimeout(() => this.startSketchPhase(), 1000);
            }

            updatePhase(phaseIndex) {
                this.currentPhase = phaseIndex;
                this.phaseText.textContent = `Phase ${phaseIndex + 1}: ${this.phases[phaseIndex]}`;
            }

            startSketchPhase() {
                this.updatePhase(0);
                this.pencil.classList.add('active');
                this.sketchGroup.style.opacity = '1';
                
                // Animate pencil movement
                this.animatePencil();
                
                // Use Vivus to animate sketch lines
                setTimeout(() => {
                    this.animateSketchLines();
                }, 500);
            }

            animatePencil() {
                const pencil = this.pencil;
                let positions = [
                    {x: 150, y: 140},
                    {x: 180, y: 160},
                    {x: 220, y: 180},
                    {x: 160, y: 200},
                    {x: 240, y: 220}
                ];
                
                let index = 0;
                const movePencil = () => {
                    if (index < positions.length) {
                        pencil.style.transform = `translate(${positions[index].x}px, ${positions[index].y}px)`;
                        index++;
                        setTimeout(movePencil, 800);
                    } else {
                        pencil.classList.remove('active');
                    }
                };
                movePencil();
            }

            animateSketchLines() {
                // Simulate rough sketch animation by gradually showing elements
                const elements = this.sketchGroup.children;
                let delay = 0;
                
                for (let element of elements) {
                    setTimeout(() => {
                        element.style.strokeDasharray = 'none';
                        element.style.animation = 'drawLine 1s ease-in-out forwards';
                    }, delay);
                    delay += 600;
                }
                
                setTimeout(() => this.startInkPhase(), delay + 1000);
            }

            startInkPhase() {
                this.updatePhase(1);
                this.inkGroup.style.opacity = '1';
                
                // Create Vivus animation for ink lines
                const inkPaths = this.inkGroup.querySelectorAll('path, circle');
                let delay = 0;
                
                inkPaths.forEach(path => {
                    setTimeout(() => {
                        new Vivus(path, {
                            duration: 80,
                            type: 'oneByOne'
                        });
                    }, delay);
                    delay += 400;
                });
                
                setTimeout(() => this.startColorPhase(), delay + 1000);
            }

            startColorPhase() {
                this.updatePhase(2);
                this.colorGroup.classList.add('active');
                
                // Animate color fills one by one
                const colorElements = this.colorGroup.children;
                let delay = 0;
                
                for (let element of colorElements) {
                    setTimeout(() => {
                        element.style.animation = 'colorFill 1s ease-in-out forwards';
                    }, delay);
                    delay += 300;
                }
            }
        }

        // CSS animations
        const style = document.createElement('style');
        style.textContent = `
            @keyframes drawLine {
                from {
                    stroke-dasharray: 1000;
                    stroke-dashoffset: 1000;
                }
                to {
                    stroke-dasharray: 1000;
                    stroke-dashoffset: 0;
                }
            }
            
            @keyframes colorFill {
                from {
                    fill-opacity: 0;
                }
                to {
                    fill-opacity: 1;
                }
            }
        `;
        document.head.appendChild(style);

        // Start animation when page loads
        window.addEventListener('load', () => {
            const animation = new DrawingAnimation();
            animation.start();
        });
    </script>
</body>
</html>
